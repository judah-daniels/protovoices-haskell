<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-| The core functionality for the 'Proxy' monad transformer

    Read &quot;Pipes.Tutorial&quot; if you want a beginners tutorial explaining how to use
    this library.  The documentation in this module targets more advanced users
    who want to understand the theory behind this library.

    This module is not exported by default, and I recommend you use the
    unidirectional operations exported by the &quot;Pipes&quot; module if you can.  You
    should only use this module if you require advanced features like:

    * bidirectional communication, or:

    * push-based 'Pipe's.
-}</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes, Trustworthy #-}</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Pipes.Core</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Proxy Monad Transformer</span></span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><span class="hs-comment">-- $proxy</span></span><span>
</span><span id="line-21"></span><span>      </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#runEffect"><span class="hs-identifier">runEffect</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Categories</span></span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><span class="hs-comment">-- $categories</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Respond</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- $respond</span></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#respond"><span class="hs-identifier">respond</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%3E%2F"><span class="hs-operator">(/&gt;/)</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-operator">(//&gt;)</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Request</span></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="hs-comment">-- $request</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#request"><span class="hs-identifier">request</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%5C%3E%5C"><span class="hs-operator">(\&gt;\)</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-operator">(&gt;\\)</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Push</span></span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><span class="hs-comment">-- $push</span></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#push"><span class="hs-identifier">push</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E~%3E"><span class="hs-operator">(&gt;~&gt;)</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator">(&gt;&gt;~)</span></a></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Pull</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-comment">-- $pull</span></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#pull"><span class="hs-identifier">pull</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%2B%3E"><span class="hs-operator">(&gt;+&gt;)</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator">(+&gt;&gt;)</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Reflect</span></span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><span class="hs-comment">-- $reflect</span></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#reflect"><span class="hs-identifier">reflect</span></a></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Concrete Type Synonyms</span></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier">X</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Effect"><span class="hs-identifier">Effect</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Producer"><span class="hs-identifier">Producer</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Pipe"><span class="hs-identifier">Pipe</span></a></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Consumer"><span class="hs-identifier">Consumer</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Client"><span class="hs-identifier">Client</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Server"><span class="hs-identifier">Server</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Polymorphic Type Synonyms</span></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Effect%27"><span class="hs-identifier">Effect'</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Producer%27"><span class="hs-identifier">Producer'</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Consumer%27"><span class="hs-identifier">Consumer'</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Client%27"><span class="hs-identifier">Client'</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#Server%27"><span class="hs-identifier">Server'</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Flipped operators</span></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%5C%3C%5C"><span class="hs-operator">(\&lt;\)</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%3C%2F"><span class="hs-operator">(/&lt;/)</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C~%3C"><span class="hs-operator">(&lt;~&lt;)</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#~%3C%3C"><span class="hs-operator">(~&lt;&lt;)</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C%2B%3C"><span class="hs-operator">(&lt;+&lt;)</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C%5C%5C"><span class="hs-operator">(&lt;\\)</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3C"><span class="hs-operator">(//&lt;)</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C%3C%2B"><span class="hs-operator">(&lt;&lt;+)</span></a></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Internal.html#closed"><span class="hs-identifier">closed</span></a></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pipes.Internal.html"><span class="hs-identifier">Pipes.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier">X</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Internal.html#closed"><span class="hs-identifier">closed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">{- $proxy
    Diagrammatically, you can think of a 'Proxy' as having the following shape:

@
 Upstream | Downstream
     +---------+
     |         |
 a' &lt;==       &lt;== b'
     |         |
 a  ==&gt;       ==&gt; b
     |    |    |
     +----|----+
          v
          r
@

    You can connect proxies together in five different ways:

    * ('Pipes.&gt;+&gt;'): connect pull-based streams

    * ('Pipes.&gt;~&gt;'): connect push-based streams

    * ('Pipes.\&gt;\'): chain folds

    * ('Pipes./&gt;/'): chain unfolds

    * ('Control.Monad.&gt;=&gt;'): sequence proxies

-}</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">-- | Run a self-contained 'Effect', converting it back to the base monad</span><span>
</span><span id="line-118"></span><span id="local-6989586621679064580"><span id="local-6989586621679064581"><span class="annot"><a href="Pipes.Core.html#runEffect"><span class="hs-identifier hs-type">runEffect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679064581"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Pipes.Core.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064581"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064580"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064581"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064580"><span class="hs-identifier hs-type">r</span></a></span></span></span><span>
</span><span id="line-119"></span><span id="runEffect"><span class="annot"><span class="annottext">runEffect :: forall (m :: * -&gt; *) r. Monad m =&gt; Effect m r -&gt; m r
</span><a href="Pipes.Core.html#runEffect"><span class="hs-identifier hs-var hs-var">runEffect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {b'} {b}.
Monad m =&gt;
Proxy X a b' X m b -&gt; m b
</span><a href="#local-6989586621679064202"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621679064202"><span class="annot"><span class="annottext">go :: Proxy X a b' X m b -&gt; m b
</span><a href="#local-6989586621679064202"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679064198"><span class="annot"><span class="annottext">Proxy X a b' X m b
</span><a href="#local-6989586621679064198"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Proxy X a b' X m b
</span><a href="#local-6989586621679064198"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-122"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679064196"><span class="annot"><span class="annottext">X
</span><a href="#local-6989586621679064196"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Proxy X a b' X m b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. X -&gt; a
</span><a href="Pipes.Internal.html#closed"><span class="hs-identifier hs-var">closed</span></a></span><span> </span><span class="annot"><span class="annottext">X
</span><a href="#local-6989586621679064196"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-type">Respond</span></a></span><span> </span><span id="local-6989586621679064194"><span class="annot"><span class="annottext">X
</span><a href="#local-6989586621679064194"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy X a b' X m b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. X -&gt; a
</span><a href="Pipes.Internal.html#closed"><span class="hs-identifier hs-var">closed</span></a></span><span> </span><span class="annot"><span class="annottext">X
</span><a href="#local-6989586621679064194"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>       </span><span id="local-6989586621679064192"><span class="annot"><span class="annottext">m (Proxy X a b' X m b)
</span><a href="#local-6989586621679064192"><span class="hs-identifier hs-var">m</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (Proxy X a b' X m b)
</span><a href="#local-6989586621679064192"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Proxy X a b' X m b -&gt; m b
</span><a href="#local-6989586621679064202"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-125"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-type">Pure</span></a></span><span>    </span><span id="local-6989586621679064190"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064190"><span class="hs-identifier hs-var">r</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064190"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-126"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Pipes.Core.html#runEffect"><span class="hs-pragma hs-type">runEffect</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">{- * Keep proxy composition lower in precedence than function composition, which
     is 9 at the time of of this comment, so that users can write things like:


&gt; lift . k &gt;+&gt; p
&gt;
&gt; hoist f . k &gt;+&gt; p

   * Keep the priorities different so that users can mix composition operators
     like:

&gt; up \&gt;\ p /&gt;/ dn
&gt;
&gt; up &gt;~&gt; p &gt;+&gt; dn

   * Keep 'request' and 'respond' composition lower in precedence than 'pull'
     and 'push' composition, so that users can do:

&gt; read \&gt;\ pull &gt;+&gt; writer

   * I arbitrarily choose a lower priority for downstream operators so that lazy
     pull-based computations need not evaluate upstream stages unless absolutely
     necessary.
-}</span><span>
</span><span id="line-152"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">3</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-operator hs-type">//&gt;</span></a></span><span>
</span><span id="line-153"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">3</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C%5C%5C"><span class="hs-operator hs-type">&lt;\\</span></a></span><span>      </span><span class="hs-comment">-- GHC will raise a parse error if either of these lines ends</span><span>
</span><span id="line-154"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%3E%2F"><span class="hs-operator hs-type">/&gt;/</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-operator hs-type">&gt;\\</span></a></span><span> </span><span class="hs-comment">-- with '\', which is why this comment is here</span><span>
</span><span id="line-155"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Pipes.Core.html#%5C%3C%5C"><span class="hs-operator hs-type">\&lt;\</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3C"><span class="hs-operator hs-type">//&lt;</span></a></span><span>
</span><span id="line-156"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">5</span><span> </span><span class="annot"><a href="Pipes.Core.html#%5C%3E%5C"><span class="hs-operator hs-type">\&gt;\</span></a></span><span>      </span><span class="hs-comment">-- Same thing here</span><span>
</span><span id="line-157"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">5</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%3C%2F"><span class="hs-operator hs-type">/&lt;/</span></a></span><span>
</span><span id="line-158"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">6</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C%3C%2B"><span class="hs-operator hs-type">&lt;&lt;+</span></a></span><span>
</span><span id="line-159"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">6</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-type">+&gt;&gt;</span></a></span><span>
</span><span id="line-160"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">7</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%2B%3E"><span class="hs-operator hs-type">&gt;+&gt;</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-type">&gt;&gt;~</span></a></span><span>
</span><span id="line-161"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">7</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C%2B%3C"><span class="hs-operator hs-type">&lt;+&lt;</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pipes.Core.html#~%3C%3C"><span class="hs-operator hs-type">~&lt;&lt;</span></a></span><span>
</span><span id="line-162"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">8</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3C~%3C"><span class="hs-operator hs-type">&lt;~&lt;</span></a></span><span>
</span><span id="line-163"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">8</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E~%3E"><span class="hs-operator hs-type">&gt;~&gt;</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-comment">{- $categories
    A 'Control.Category.Category' is a set of components that you can connect
    with a composition operator, ('Control.Category..'), that has an identity,
    'Control.Category.id'.  The ('Control.Category..') and 'Control.Category.id'
    must satisfy the following three 'Control.Category.Category' laws:

@
\-\- Left identity
'Control.Category.id' 'Control.Category..' f = f

\-\- Right identity
f 'Control.Category..' 'Control.Category.id' = f

\-\- Associativity
(f 'Control.Category..' g) 'Control.Category..' h = f 'Control.Category..' (g 'Control.Category..' h)
@

    The 'Proxy' type sits at the intersection of five separate categories, four
    of which are named after their identity:

@
                     Identity   | Composition |  Point-ful
                  +-------------+-------------+-------------+
 respond category |   'respond'   |     '/&gt;/'     |     '//&gt;'     |
 request category |   'request'   |     '\&gt;\'     |     '&gt;\\'     |
    push category |   'push'      |     '&gt;~&gt;'     |     '&gt;&gt;~'     |
    pull category |   'pull'      |     '&gt;+&gt;'     |     '+&gt;&gt;'     |
 Kleisli category |   'return'    |     'Control.Monad.&gt;=&gt;'     |     '&gt;&gt;='     |
                  +-------------+-------------+-------------+
@

    Each composition operator has a \&quot;point-ful\&quot; version, analogous to how
    ('&gt;&gt;=') is the point-ful version of ('Control.Monad.&gt;=&gt;').  For example,
    ('//&gt;') is the point-ful version of ('/&gt;/').  The convention is that the
    odd character out faces the argument that is a function.
-}</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">{- $respond
    The 'respond' category closely corresponds to the generator design pattern.

    The 'respond' category obeys the category laws, where 'respond' is the
    identity and ('/&gt;/') is composition:

@
\-\- Left identity
'respond' '/&gt;/' f = f

\-\- Right identity
f '/&gt;/' 'respond' = f

\-\- Associativity
(f '/&gt;/' g) '/&gt;/' h = f '/&gt;/' (g '/&gt;/' h)
@

#respond-diagram#

    The following diagrams show the flow of information:

@
'respond' :: 'Functor' m
       =&gt;  a -&gt; 'Proxy' x' x a' a m a'

\          a
          |
     +----|----+
     |    |    |
 x' &lt;==   \\ /==== a'
     |     X   |
 x  ==&gt;   / \\===&gt; a
     |    |    |
     +----|----+
          v
          a'

('/&gt;/') :: 'Functor' m
      =&gt; (a -&gt; 'Proxy' x' x b' b m a')
      -&gt; (b -&gt; 'Proxy' x' x c' c m b')
      -&gt; (a -&gt; 'Proxy' x' x c' c m a')

\          a                   /===&gt; b                      a
          |                  /      |                      |
     +----|----+            /  +----|----+            +----|----+
     |    v    |           /   |    v    |            |    v    |
 x' &lt;==       &lt;== b' &lt;==\\ / x'&lt;==       &lt;== c'    x' &lt;==       &lt;== c'
     |    f    |         X     |    g    |     =      | f '/&gt;/' g |
 x  ==&gt;       ==&gt; b  ===/ \\ x ==&gt;       ==&gt; c     x  ==&gt;       ==&gt; c
     |    |    |           \\   |    |    |            |    |    |
     +----|----+            \\  +----|----+            +----|----+
          v                  \\      v                      v
          a'                  \\==== b'                     a'

('//&gt;') :: 'Functor' m
      =&gt; 'Proxy' x' x b' b m a'
      -&gt; (b -&gt; 'Proxy' x' x c' c m b')
      -&gt; 'Proxy' x' x c' c m a'

\                              /===&gt; b
                             /      |
     +---------+            /  +----|----+            +---------+
     |         |           /   |    v    |            |         |
 x' &lt;==       &lt;== b' &lt;==\\ / x'&lt;==       &lt;== c'    x' &lt;==       &lt;== c'
     |    f    |         X     |    g    |     =      | f '//&gt;' g |
 x  ==&gt;       ==&gt; b  ===/ \\ x ==&gt;       ==&gt; c     x  ==&gt;       ==&gt; c'
     |    |    |           \\   |    |    |            |    |    |
     +----|----+            \\  +----|----+            +----|----+
          v                  \\      v                      v
          a'                  \\==== b'                     a'
@

-}</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-comment">{-| Send a value of type @a@ downstream and block waiting for a reply of type
    @a'@

    'respond' is the identity of the respond category.
-}</span><span>
</span><span id="line-281"></span><span id="local-6989586621679064562"><span id="local-6989586621679064563"><span id="local-6989586621679064564"><span id="local-6989586621679064565"><span id="local-6989586621679064566"><span class="annot"><a href="Pipes.Core.html#respond"><span class="hs-identifier hs-type">respond</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064566"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064565"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064564"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064563"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064562"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064565"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064566"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064562"><span class="hs-identifier hs-type">a'</span></a></span></span></span></span></span></span><span>
</span><span id="line-282"></span><span id="respond"><span class="annot"><span class="annottext">respond :: forall (m :: * -&gt; *) a x' x a'.
Functor m =&gt;
a -&gt; Proxy x' x a' a m a'
</span><a href="Pipes.Core.html#respond"><span class="hs-identifier hs-var hs-var">respond</span></a></span></span><span> </span><span id="local-6989586621679064188"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064188"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
b -&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-var">Respond</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064188"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r. r -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-var">Pure</span></a></span><span>
</span><span id="line-283"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="annot"><a href="Pipes.Core.html#respond"><span class="hs-pragma hs-type">respond</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-comment">{-| Compose two unfolds, creating a new unfold

@
(f '/&gt;/' g) x = f x '//&gt;' g
@

    ('/&gt;/') is the composition operator of the respond category.
-}</span><span>
</span><span id="line-293"></span><span id="local-6989586621679064545"><span id="local-6989586621679064546"><span id="local-6989586621679064547"><span id="local-6989586621679064548"><span id="local-6989586621679064549"><span id="local-6989586621679064550"><span id="local-6989586621679064551"><span id="local-6989586621679064552"><span id="local-6989586621679064553"><span class="annot"><a href="Pipes.Core.html#%2F%3E%2F"><span class="hs-operator hs-type">(/&gt;/)</span></a></span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064553"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064552"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064551"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064550"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064549"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064548"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064547"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064548"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064551"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064550"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064546"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064545"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064549"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064552"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064551"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064550"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064546"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064545"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064547"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-301"></span><span class="hs-special">(</span><span id="local-6989586621679064185"><span class="annot"><span class="annottext">a -&gt; Proxy x' x b' b m a'
</span><a href="#local-6989586621679064185"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span id="%2F%3E%2F"><span class="annot"><span class="annottext">/&gt;/ :: forall (m :: * -&gt; *) a x' x b' b a' c' c.
Functor m =&gt;
(a -&gt; Proxy x' x b' b m a')
-&gt; (b -&gt; Proxy x' x c' c m b') -&gt; a -&gt; Proxy x' x c' c m a'
</span><a href="Pipes.Core.html#%2F%3E%2F"><span class="hs-operator hs-var hs-var">/&gt;/</span></a></span></span><span> </span><span id="local-6989586621679064184"><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679064184"><span class="hs-identifier hs-var">fb</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679064183"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064183"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Proxy x' x b' b m a'
</span><a href="#local-6989586621679064185"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064183"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) x' x b' b a' c' c.
Functor m =&gt;
Proxy x' x b' b m a'
-&gt; (b -&gt; Proxy x' x c' c m b') -&gt; Proxy x' x c' c m a'
</span><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-operator hs-var">//&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679064184"><span class="hs-identifier hs-var">fb</span></a></span><span>
</span><span id="line-302"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">/&gt;/</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">{-| @(p \/\/&gt; f)@ replaces each 'respond' in @p@ with @f@.

    Point-ful version of ('/&gt;/')
-}</span><span>
</span><span id="line-308"></span><span id="local-6989586621679064528"><span id="local-6989586621679064529"><span id="local-6989586621679064530"><span id="local-6989586621679064531"><span id="local-6989586621679064532"><span id="local-6989586621679064533"><span id="local-6989586621679064534"><span id="local-6989586621679064535"><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-operator hs-type">(//&gt;)</span></a></span><span>
</span><span id="line-309"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064535"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-glyph">=&gt;</span><span>       </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064534"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064533"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064532"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064531"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064535"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064530"><span class="hs-identifier hs-type">a'</span></a></span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064531"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064534"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064533"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064529"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064528"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064535"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064532"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>       </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064534"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064533"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064529"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064528"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064535"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064530"><span class="hs-identifier hs-type">a'</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-316"></span><span id="local-6989586621679064181"><span class="annot"><span class="annottext">Proxy x' x b' b m a'
</span><a href="#local-6989586621679064181"><span class="hs-identifier hs-var">p0</span></a></span></span><span> </span><span id="%2F%2F%3E"><span class="annot"><span class="annottext">//&gt; :: forall (m :: * -&gt; *) x' x b' b a' c' c.
Functor m =&gt;
Proxy x' x b' b m a'
-&gt; (b -&gt; Proxy x' x c' c m b') -&gt; Proxy x' x c' c m a'
</span><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-operator hs-var hs-var">//&gt;</span></a></span></span><span> </span><span id="local-6989586621679064180"><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679064180"><span class="hs-identifier hs-var">fb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {r}. Proxy x' x b' b m r -&gt; Proxy x' x c' c m r
</span><a href="#local-6989586621679064179"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy x' x b' b m a'
</span><a href="#local-6989586621679064181"><span class="hs-identifier hs-var">p0</span></a></span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621679064179"><span class="annot"><span class="annottext">go :: Proxy x' x b' b m r -&gt; Proxy x' x c' c m r
</span><a href="#local-6989586621679064179"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679064174"><span class="annot"><span class="annottext">Proxy x' x b' b m r
</span><a href="#local-6989586621679064174"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Proxy x' x b' b m r
</span><a href="#local-6989586621679064174"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-319"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679064173"><span class="annot"><span class="annottext">x'
</span><a href="#local-6989586621679064173"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span id="local-6989586621679064172"><span class="annot"><span class="annottext">x -&gt; Proxy x' x b' b m r
</span><a href="#local-6989586621679064172"><span class="hs-identifier hs-var">fx</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
a' -&gt; (a -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">x'
</span><a href="#local-6989586621679064173"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064171"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679064171"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy x' x b' b m r -&gt; Proxy x' x c' c m r
</span><a href="#local-6989586621679064179"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; Proxy x' x b' b m r
</span><a href="#local-6989586621679064172"><span class="hs-identifier hs-var">fx</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679064171"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-type">Respond</span></a></span><span> </span><span id="local-6989586621679064170"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064170"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span id="local-6989586621679064169"><span class="annot"><span class="annottext">b' -&gt; Proxy x' x b' b m r
</span><a href="#local-6989586621679064169"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679064180"><span class="hs-identifier hs-var">fb</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064170"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679064168"><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064168"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy x' x b' b m r -&gt; Proxy x' x c' c m r
</span><a href="#local-6989586621679064179"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b' -&gt; Proxy x' x b' b m r
</span><a href="#local-6989586621679064169"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064168"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>          </span><span id="local-6989586621679064167"><span class="annot"><span class="annottext">m (Proxy x' x b' b m r)
</span><a href="#local-6989586621679064167"><span class="hs-identifier hs-var">m</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
m (Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy x' x b' b m r -&gt; Proxy x' x c' c m r
</span><a href="#local-6989586621679064179"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (Proxy x' x b' b m r)
</span><a href="#local-6989586621679064167"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-type">Pure</span></a></span><span>       </span><span id="local-6989586621679064165"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064165"><span class="hs-identifier hs-var">a</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r. r -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-var">Pure</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064165"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-323"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">//&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;(Request x' fx ) //&gt; fb&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679064164"><span class="annot"><a href="#local-6989586621679064164"><span class="hs-pragma hs-var">x'</span></a></span></span><span> </span><span id="local-6989586621679064163"><span class="annot"><a href="#local-6989586621679064163"><span class="hs-pragma hs-var">fx</span></a></span></span><span>  </span><span id="local-6989586621679064162"><span class="annot"><a href="#local-6989586621679064162"><span class="hs-pragma hs-var">fb</span></a></span></span><span> </span><span class="hs-pragma">.</span><span>
</span><span id="line-327"></span><span>        </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-pragma hs-type">Request</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064164"><span class="hs-pragma hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064163"><span class="hs-pragma hs-type">fx</span></a></span><span> </span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064162"><span class="hs-pragma hs-type">fb</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-pragma hs-type">Request</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064164"><span class="hs-pragma hs-type">x'</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679064161"><span class="annot"><a href="#local-6989586621679064161"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064163"><span class="hs-pragma hs-type">fx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064161"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064162"><span class="hs-pragma hs-type">fb</span></a></span><span class="hs-pragma">)</span><span class="hs-pragma">;</span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;(Respond b  fb') //&gt; fb&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679064160"><span class="annot"><a href="#local-6989586621679064160"><span class="hs-pragma hs-var">b</span></a></span></span><span>  </span><span id="local-6989586621679064159"><span class="annot"><a href="#local-6989586621679064159"><span class="hs-pragma hs-var">fb'</span></a></span></span><span> </span><span id="local-6989586621679064158"><span class="annot"><a href="#local-6989586621679064158"><span class="hs-pragma hs-var">fb</span></a></span></span><span> </span><span class="hs-pragma">.</span><span>
</span><span id="line-329"></span><span>        </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-pragma hs-type">Respond</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064160"><span class="hs-pragma hs-type">b</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621679064159"><span class="hs-pragma hs-type">fb'</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064158"><span class="hs-pragma hs-type">fb</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679064158"><span class="hs-pragma hs-type">fb</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064160"><span class="hs-pragma hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">&gt;&gt;=</span></span><span> </span><span class="hs-pragma">\</span><span id="local-6989586621679064157"><span class="annot"><a href="#local-6989586621679064157"><span class="hs-pragma hs-var">b'</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064159"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064157"><span class="hs-pragma hs-type">b'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064158"><span class="hs-pragma hs-type">fb</span></a></span><span class="hs-pragma">;</span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;(M          m  ) //&gt; fb&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span>    </span><span id="local-6989586621679064156"><span class="annot"><a href="#local-6989586621679064156"><span class="hs-pragma hs-var">m</span></a></span></span><span>   </span><span id="local-6989586621679064155"><span class="annot"><a href="#local-6989586621679064155"><span class="hs-pragma hs-var">fb</span></a></span></span><span> </span><span class="hs-pragma">.</span><span>
</span><span id="line-331"></span><span>        </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-pragma hs-type">M</span></a></span><span>          </span><span class="annot"><a href="#local-6989586621679064156"><span class="hs-pragma hs-type">m</span></a></span><span>  </span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064155"><span class="hs-pragma hs-type">fb</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-pragma hs-type">M</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679064154"><span class="annot"><a href="#local-6989586621679064154"><span class="hs-pragma hs-var">p'</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064154"><span class="hs-pragma hs-type">p'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064155"><span class="hs-pragma hs-type">fb</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><span class="hs-pragma hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679064156"><span class="hs-pragma hs-type">m</span></a></span><span class="hs-pragma">)</span><span class="hs-pragma">;</span><span>
</span><span id="line-332"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;(Pure      a   ) //&gt; fb&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679064153"><span class="annot"><a href="#local-6989586621679064153"><span class="hs-pragma hs-var">a</span></a></span></span><span>      </span><span id="local-6989586621679064152"><span class="annot"><a href="#local-6989586621679064152"><span class="hs-pragma hs-var">fb</span></a></span></span><span> </span><span class="hs-pragma">.</span><span>
</span><span id="line-333"></span><span>        </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-pragma hs-type">Pure</span></a></span><span>    </span><span class="annot"><a href="#local-6989586621679064153"><span class="hs-pragma hs-type">a</span></a></span><span>     </span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064152"><span class="hs-pragma hs-type">fb</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-pragma hs-type">Pure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064153"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">;</span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="hs-comment">{- $request
    The 'request' category closely corresponds to the iteratee design pattern.

    The 'request' category obeys the category laws, where 'request' is the
    identity and ('\&gt;\') is composition:

@
-- Left identity
'request' '\&gt;\' f = f

\-\- Right identity
f '\&gt;\' 'request' = f

\-\- Associativity
(f '\&gt;\' g) '\&gt;\' h = f '\&gt;\' (g '\&gt;\' h)
@

#request-diagram#

    The following diagrams show the flow of information:

@
'request' :: 'Functor' m
        =&gt;  a' -&gt; 'Proxy' a' a y' y m a

\          a'
          |
     +----|----+
     |    |    |
 a' &lt;=====/   &lt;== y'
     |         |
 a  ======\\   ==&gt; y
     |    |    |
     +----|----+
          v
          a

('\&gt;\') :: 'Functor' m
      =&gt; (b' -&gt; 'Proxy' a' a y' y m b)
      -&gt; (c' -&gt; 'Proxy' b' b y' y m c)
      -&gt; (c' -&gt; 'Proxy' a' a y' y m c)

\          b'&lt;=====\\                c'                     c'
          |        \\               |                      |
     +----|----+    \\         +----|----+            +----|----+
     |    v    |     \\        |    v    |            |    v    |
 a' &lt;==       &lt;== y'  \\== b' &lt;==       &lt;== y'    a' &lt;==       &lt;== y'
     |    f    |              |    g    |     =      | f '\&gt;\' g |
 a  ==&gt;       ==&gt; y   /=&gt; b  ==&gt;       ==&gt; y     a  ==&gt;       ==&gt; y
     |    |    |     /        |    |    |            |    |    |
     +----|----+    /         +----|----+            +----|----+
          v        /               v                      v
          b ======/                c                      c

('&gt;\\') :: Functor m
      =&gt; (b' -&gt; Proxy a' a y' y m b)
      -&gt; Proxy b' b y' y m c
      -&gt; Proxy a' a y' y m c

\          b'&lt;=====\\
          |        \\
     +----|----+    \\         +---------+            +---------+
     |    v    |     \\        |         |            |         |
 a' &lt;==       &lt;== y'  \\== b' &lt;==       &lt;== y'    a' &lt;==       &lt;== y'
     |    f    |              |    g    |     =      | f '&gt;\\' g |
 a  ==&gt;       ==&gt; y   /=&gt; b  ==&gt;       ==&gt; y     a  ==&gt;       ==&gt; y
     |    |    |     /        |    |    |            |    |    |
     +----|----+    /         +----|----+            +----|----+
          v        /               v                      v
          b ======/                c                      c
@
-}</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-comment">{-| Send a value of type @a'@ upstream and block waiting for a reply of type @a@

    'request' is the identity of the request category.
-}</span><span>
</span><span id="line-413"></span><span id="local-6989586621679064506"><span id="local-6989586621679064507"><span id="local-6989586621679064508"><span id="local-6989586621679064509"><span id="local-6989586621679064510"><span class="annot"><a href="Pipes.Core.html#request"><span class="hs-identifier hs-type">request</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064510"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064509"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064509"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064508"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064507"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064506"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064510"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064508"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-414"></span><span id="request"><span class="annot"><span class="annottext">request :: forall (m :: * -&gt; *) a' a y' y.
Functor m =&gt;
a' -&gt; Proxy a' a y' y m a
</span><a href="Pipes.Core.html#request"><span class="hs-identifier hs-var hs-var">request</span></a></span></span><span> </span><span id="local-6989586621679064150"><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064150"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
a' -&gt; (a -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064150"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r. r -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-var">Pure</span></a></span><span>
</span><span id="line-415"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="annot"><a href="Pipes.Core.html#request"><span class="hs-pragma hs-type">request</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">{-| Compose two folds, creating a new fold

@
(f '\&gt;\' g) x = f '&gt;\\' g x
@

    ('\&gt;\') is the composition operator of the request category.
-}</span><span>
</span><span id="line-425"></span><span id="local-6989586621679064495"><span id="local-6989586621679064496"><span id="local-6989586621679064497"><span id="local-6989586621679064498"><span id="local-6989586621679064499"><span id="local-6989586621679064500"><span id="local-6989586621679064501"><span id="local-6989586621679064502"><span id="local-6989586621679064503"><span class="annot"><a href="Pipes.Core.html#%5C%3E%5C"><span class="hs-operator hs-type">(\&gt;\)</span></a></span><span>
</span><span id="line-426"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064503"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064502"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064501"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064500"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064499"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064498"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064503"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064497"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064496"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064502"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064497"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064499"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064498"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064503"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064495"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-431"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064496"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064501"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064500"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064499"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064498"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064503"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064495"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-432"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-433"></span><span class="hs-special">(</span><span id="local-6989586621679064147"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064147"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span id="%5C%3E%5C"><span class="annot"><span class="annottext">\&gt;\ :: forall (m :: * -&gt; *) b' a' a y' y b c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a y' y m b)
-&gt; (c' -&gt; Proxy b' b y' y m c) -&gt; c' -&gt; Proxy a' a y' y m c
</span><a href="Pipes.Core.html#%5C%3E%5C"><span class="hs-operator hs-var hs-var">\&gt;\</span></a></span></span><span> </span><span id="local-6989586621679064146"><span class="annot"><span class="annottext">c' -&gt; Proxy b' b y' y m c
</span><a href="#local-6989586621679064146"><span class="hs-identifier hs-var">fc'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679064145"><span class="annot"><span class="annottext">c'
</span><a href="#local-6989586621679064145"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064147"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a y' y b c.
Functor m =&gt;
(b' -&gt; Proxy a' a y' y m b)
-&gt; Proxy b' b y' y m c -&gt; Proxy a' a y' y m c
</span><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-operator hs-var">&gt;\\</span></a></span><span> </span><span class="annot"><span class="annottext">c' -&gt; Proxy b' b y' y m c
</span><a href="#local-6989586621679064146"><span class="hs-identifier hs-var">fc'</span></a></span><span> </span><span class="annot"><span class="annottext">c'
</span><a href="#local-6989586621679064145"><span class="hs-identifier hs-var">c'</span></a></span><span>
</span><span id="line-434"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\&gt;\</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-comment">{-| @(f &gt;\\\\ p)@ replaces each 'request' in @p@ with @f@.

    Point-ful version of ('\&gt;\')
-}</span><span>
</span><span id="line-440"></span><span id="local-6989586621679064478"><span id="local-6989586621679064479"><span id="local-6989586621679064480"><span id="local-6989586621679064481"><span id="local-6989586621679064482"><span id="local-6989586621679064483"><span id="local-6989586621679064484"><span id="local-6989586621679064485"><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-operator hs-type">(&gt;\\)</span></a></span><span>
</span><span id="line-441"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064485"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064484"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064483"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064482"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064481"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064480"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064485"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064479"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-444"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064484"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064479"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064481"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064480"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064485"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064478"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064483"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064482"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064481"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064480"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064485"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064478"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-448"></span><span id="local-6989586621679064143"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064143"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span id="%3E%5C%5C"><span class="annot"><span class="annottext">&gt;\\ :: forall (m :: * -&gt; *) b' a' a y' y b c.
Functor m =&gt;
(b' -&gt; Proxy a' a y' y m b)
-&gt; Proxy b' b y' y m c -&gt; Proxy a' a y' y m c
</span><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-operator hs-var hs-var">&gt;\\</span></a></span></span><span> </span><span id="local-6989586621679064142"><span class="annot"><span class="annottext">Proxy b' b y' y m c
</span><a href="#local-6989586621679064142"><span class="hs-identifier hs-var">p0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {b}. Proxy b' b y' y m b -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064141"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy b' b y' y m c
</span><a href="#local-6989586621679064142"><span class="hs-identifier hs-var">p0</span></a></span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-450"></span><span>    </span><span id="local-6989586621679064141"><span class="annot"><span class="annottext">go :: Proxy b' b y' y m b -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064141"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679064137"><span class="annot"><span class="annottext">Proxy b' b y' y m b
</span><a href="#local-6989586621679064137"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Proxy b' b y' y m b
</span><a href="#local-6989586621679064137"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-451"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679064136"><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064136"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span id="local-6989586621679064135"><span class="annot"><span class="annottext">b -&gt; Proxy b' b y' y m b
</span><a href="#local-6989586621679064135"><span class="hs-identifier hs-var">fb</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064143"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064136"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679064134"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064134"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy b' b y' y m b -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064141"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Proxy b' b y' y m b
</span><a href="#local-6989586621679064135"><span class="hs-identifier hs-var">fb</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064134"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-type">Respond</span></a></span><span> </span><span id="local-6989586621679064133"><span class="annot"><span class="annottext">y
</span><a href="#local-6989586621679064133"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span id="local-6989586621679064132"><span class="annot"><span class="annottext">y' -&gt; Proxy b' b y' y m b
</span><a href="#local-6989586621679064132"><span class="hs-identifier hs-var">fx'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
b -&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-var">Respond</span></a></span><span> </span><span class="annot"><span class="annottext">y
</span><a href="#local-6989586621679064133"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064131"><span class="annot"><span class="annottext">y'
</span><a href="#local-6989586621679064131"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy b' b y' y m b -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064141"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">y' -&gt; Proxy b' b y' y m b
</span><a href="#local-6989586621679064132"><span class="hs-identifier hs-var">fx'</span></a></span><span> </span><span class="annot"><span class="annottext">y'
</span><a href="#local-6989586621679064131"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>          </span><span id="local-6989586621679064130"><span class="annot"><span class="annottext">m (Proxy b' b y' y m b)
</span><a href="#local-6989586621679064130"><span class="hs-identifier hs-var">m</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
m (Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b' b y' y m b -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679064141"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (Proxy b' b y' y m b)
</span><a href="#local-6989586621679064130"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-type">Pure</span></a></span><span>       </span><span id="local-6989586621679064129"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064129"><span class="hs-identifier hs-var">a</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r. r -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-var">Pure</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064129"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-455"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;\\</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;fb' &gt;\\ (Request b' fb )&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679064128"><span class="annot"><a href="#local-6989586621679064128"><span class="hs-pragma hs-var">fb'</span></a></span></span><span> </span><span id="local-6989586621679064127"><span class="annot"><a href="#local-6989586621679064127"><span class="hs-pragma hs-var">b'</span></a></span></span><span> </span><span id="local-6989586621679064126"><span class="annot"><a href="#local-6989586621679064126"><span class="hs-pragma hs-var">fb</span></a></span></span><span>  </span><span class="hs-pragma">.</span><span>
</span><span id="line-459"></span><span>        </span><span class="annot"><a href="#local-6989586621679064128"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-pragma hs-type">Request</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064127"><span class="hs-pragma hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064126"><span class="hs-pragma hs-type">fb</span></a></span><span> </span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679064128"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064127"><span class="hs-pragma hs-type">b'</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">&gt;&gt;=</span></span><span> </span><span class="hs-pragma">\</span><span id="local-6989586621679064125"><span class="annot"><a href="#local-6989586621679064125"><span class="hs-pragma hs-var">b</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064128"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064126"><span class="hs-pragma hs-type">fb</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621679064125"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">;</span><span>
</span><span id="line-460"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;fb' &gt;\\ (Respond x  fx')&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679064124"><span class="annot"><a href="#local-6989586621679064124"><span class="hs-pragma hs-var">fb'</span></a></span></span><span> </span><span id="local-6989586621679064123"><span class="annot"><a href="#local-6989586621679064123"><span class="hs-pragma hs-var">x</span></a></span></span><span>  </span><span id="local-6989586621679064122"><span class="annot"><a href="#local-6989586621679064122"><span class="hs-pragma hs-var">fx'</span></a></span></span><span> </span><span class="hs-pragma">.</span><span>
</span><span id="line-461"></span><span>        </span><span class="annot"><a href="#local-6989586621679064124"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-pragma hs-type">Respond</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064123"><span class="hs-pragma hs-type">x</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621679064122"><span class="hs-pragma hs-type">fx'</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-pragma hs-type">Respond</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064123"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679064121"><span class="annot"><a href="#local-6989586621679064121"><span class="hs-pragma hs-var">x'</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064124"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064122"><span class="hs-pragma hs-type">fx'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064121"><span class="hs-pragma hs-type">x'</span></a></span><span class="hs-pragma">)</span><span class="hs-pragma">;</span><span>
</span><span id="line-462"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;fb' &gt;\\ (M          m  )&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679064120"><span class="annot"><a href="#local-6989586621679064120"><span class="hs-pragma hs-var">fb'</span></a></span></span><span>    </span><span id="local-6989586621679064119"><span class="annot"><a href="#local-6989586621679064119"><span class="hs-pragma hs-var">m</span></a></span></span><span>   </span><span class="hs-pragma">.</span><span>
</span><span id="line-463"></span><span>        </span><span class="annot"><a href="#local-6989586621679064120"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-pragma hs-type">M</span></a></span><span>          </span><span class="annot"><a href="#local-6989586621679064119"><span class="hs-pragma hs-type">m</span></a></span><span>  </span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-pragma hs-type">M</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679064118"><span class="annot"><a href="#local-6989586621679064118"><span class="hs-pragma hs-var">p'</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064120"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064118"><span class="hs-pragma hs-type">p'</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><span class="hs-pragma hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679064119"><span class="hs-pragma hs-type">m</span></a></span><span class="hs-pragma">)</span><span class="hs-pragma">;</span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;fb' &gt;\\ (Pure    a    )&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679064117"><span class="annot"><a href="#local-6989586621679064117"><span class="hs-pragma hs-var">fb'</span></a></span></span><span> </span><span id="local-6989586621679064116"><span class="annot"><a href="#local-6989586621679064116"><span class="hs-pragma hs-var">a</span></a></span></span><span>      </span><span class="hs-pragma">.</span><span>
</span><span id="line-465"></span><span>        </span><span class="annot"><a href="#local-6989586621679064117"><span class="hs-pragma hs-type">fb'</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-pragma hs-type">Pure</span></a></span><span>    </span><span class="annot"><a href="#local-6989586621679064116"><span class="hs-pragma hs-type">a</span></a></span><span>     </span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-pragma hs-type">Pure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064116"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">;</span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span class="hs-comment">{- $push
    The 'push' category closely corresponds to push-based Unix pipes.

    The 'push' category obeys the category laws, where 'push' is the identity
    and ('&gt;~&gt;') is composition:

@
\-\- Left identity
'push' '&gt;~&gt;' f = f

\-\- Right identity
f '&gt;~&gt;' 'push' = f

\-\- Associativity
(f '&gt;~&gt;' g) '&gt;~&gt;' h = f '&gt;~&gt;' (g '&gt;~&gt;' h)
@

    The following diagram shows the flow of information:

@
'push'  :: 'Functor' m
      =&gt;  a -&gt; 'Proxy' a' a a' a m r

\          a
          |
     +----|----+
     |    v    |
 a' &lt;============ a'
     |         |
 a  ============&gt; a
     |    |    |
     +----|----+
          v
          r

('&gt;~&gt;') :: 'Functor' m
      =&gt; (a -&gt; 'Proxy' a' a b' b m r)
      -&gt; (b -&gt; 'Proxy' b' b c' c m r)
      -&gt; (a -&gt; 'Proxy' a' a c' c m r)

\          a                b                      a
          |                |                      |
     +----|----+      +----|----+            +----|----+
     |    v    |      |    v    |            |    v    |
 a' &lt;==       &lt;== b' &lt;==       &lt;== c'    a' &lt;==       &lt;== c'
     |    f    |      |    g    |     =      | f '&gt;~&gt;' g |
 a  ==&gt;       ==&gt; b  ==&gt;       ==&gt; c     a  ==&gt;       ==&gt; c
     |    |    |      |    |    |            |    |    |
     +----|----+      +----|----+            +----|----+
          v                v                      v
          r                r                      r
@

-}</span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span class="hs-comment">{-| Forward responses followed by requests

@
'push' = 'respond' 'Control.Monad.&gt;=&gt;' 'request' 'Control.Monad.&gt;=&gt;' 'push'
@

    'push' is the identity of the push category.
-}</span><span>
</span><span id="line-531"></span><span id="local-6989586621679064465"><span id="local-6989586621679064466"><span id="local-6989586621679064467"><span id="local-6989586621679064468"><span class="annot"><a href="Pipes.Core.html#push"><span class="hs-identifier hs-type">push</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064468"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064467"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064466"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064467"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064466"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064467"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064468"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064465"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-532"></span><span id="push"><span class="annot"><span class="annottext">push :: forall (m :: * -&gt; *) a a' r. Functor m =&gt; a -&gt; Proxy a' a a' a m r
</span><a href="Pipes.Core.html#push"><span class="hs-identifier hs-var hs-var">push</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a} {a'} {m :: * -&gt; *} {r}. a -&gt; Proxy a' a a' a m r
</span><a href="#local-6989586621679064114"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-533"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-534"></span><span>    </span><span id="local-6989586621679064114"><span class="annot"><span class="annottext">go :: a -&gt; Proxy a' a a' a m r
</span><a href="#local-6989586621679064114"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679064113"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064113"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
b -&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-var">Respond</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064113"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064112"><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064112"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
a' -&gt; (a -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064112"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Proxy a' a a' a m r
</span><a href="#local-6989586621679064114"><span class="hs-identifier hs-var">go</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="annot"><a href="Pipes.Core.html#push"><span class="hs-pragma hs-type">push</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span class="hs-comment">{-| Compose two proxies blocked while 'request'ing data, creating a new proxy
    blocked while 'request'ing data

@
(f '&gt;~&gt;' g) x = f x '&gt;&gt;~' g
@

    ('&gt;~&gt;') is the composition operator of the push category.
-}</span><span>
</span><span id="line-546"></span><span id="local-6989586621679064451"><span id="local-6989586621679064452"><span id="local-6989586621679064453"><span id="local-6989586621679064454"><span id="local-6989586621679064455"><span id="local-6989586621679064456"><span id="local-6989586621679064457"><span id="local-6989586621679064458"><span id="local-6989586621679064459"><span class="annot"><a href="Pipes.Core.html#%3E~%3E"><span class="hs-operator hs-type">(&gt;~&gt;)</span></a></span><span>
</span><span id="line-547"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064459"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-548"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064458"><span class="hs-identifier hs-type">_a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064457"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064456"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064455"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064454"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064459"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064453"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-549"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-550"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679064454"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064455"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064454"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064452"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064451"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064459"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064453"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-552"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064458"><span class="hs-identifier hs-type">_a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064457"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064456"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064452"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064451"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064459"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064453"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-553"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-554"></span><span class="hs-special">(</span><span id="local-6989586621679064109"><span class="annot"><span class="annottext">_a -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064109"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span id="%3E~%3E"><span class="annot"><span class="annottext">&gt;~&gt; :: forall (m :: * -&gt; *) _a a' a b' b r c' c.
Functor m =&gt;
(_a -&gt; Proxy a' a b' b m r)
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; _a -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E~%3E"><span class="hs-operator hs-var hs-var">&gt;~&gt;</span></a></span></span><span> </span><span id="local-6989586621679064108"><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064108"><span class="hs-identifier hs-var">fb</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679064107"><span class="annot"><span class="annottext">_a
</span><a href="#local-6989586621679064107"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">_a -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064109"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">_a
</span><a href="#local-6989586621679064107"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a' a b' b r c' c.
Functor m =&gt;
Proxy a' a b' b m r
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-var">&gt;&gt;~</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064108"><span class="hs-identifier hs-var">fb</span></a></span><span>
</span><span id="line-555"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;~&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span class="hs-comment">{-| @(p &gt;&gt;~ f)@ pairs each 'respond' in @p@ with a 'request' in @f@.

    Point-ful version of ('&gt;~&gt;')
-}</span><span>
</span><span id="line-561"></span><span id="local-6989586621679064434"><span id="local-6989586621679064435"><span id="local-6989586621679064436"><span id="local-6989586621679064437"><span id="local-6989586621679064438"><span id="local-6989586621679064439"><span id="local-6989586621679064440"><span id="local-6989586621679064441"><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-type">(&gt;&gt;~)</span></a></span><span>
</span><span id="line-562"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064441"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-563"></span><span>    </span><span class="hs-glyph">=&gt;</span><span>       </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064440"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064439"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064438"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064437"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064441"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064436"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-564"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-565"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064437"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064438"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064437"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064435"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064434"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064441"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064436"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-566"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-567"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>       </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064440"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064439"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064435"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064434"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064441"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064436"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-568"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-569"></span><span id="local-6989586621679064101"><span class="annot"><span class="annottext">Proxy a' a b' b m r
</span><a href="#local-6989586621679064101"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="%3E%3E~"><span class="annot"><span class="annottext">&gt;&gt;~ :: forall (m :: * -&gt; *) a' a b' b r c' c.
Functor m =&gt;
Proxy a' a b' b m r
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-var hs-var">&gt;&gt;~</span></a></span></span><span> </span><span id="local-6989586621679064100"><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064100"><span class="hs-identifier hs-var">fb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Proxy a' a b' b m r
</span><a href="#local-6989586621679064101"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-570"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679064099"><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064099"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span id="local-6989586621679064098"><span class="annot"><span class="annottext">a -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064098"><span class="hs-identifier hs-var">fa</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
a' -&gt; (a -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064099"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064097"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064097"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064098"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064097"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a' a b' b r c' c.
Functor m =&gt;
Proxy a' a b' b m r
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-var">&gt;&gt;~</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064100"><span class="hs-identifier hs-var">fb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-type">Respond</span></a></span><span> </span><span id="local-6989586621679064096"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064096"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span id="local-6989586621679064095"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064095"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064095"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a b r c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; Proxy b' b c' c m r -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-var">+&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064100"><span class="hs-identifier hs-var">fb</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064096"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-572"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>          </span><span id="local-6989586621679064094"><span class="annot"><span class="annottext">m (Proxy a' a b' b m r)
</span><a href="#local-6989586621679064094"><span class="hs-identifier hs-var">m</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
m (Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064093"><span class="annot"><span class="annottext">Proxy a' a b' b m r
</span><a href="#local-6989586621679064093"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy a' a b' b m r
</span><a href="#local-6989586621679064093"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a' a b' b r c' c.
Functor m =&gt;
Proxy a' a b' b m r
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-var">&gt;&gt;~</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064100"><span class="hs-identifier hs-var">fb</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (Proxy a' a b' b m r)
</span><a href="#local-6989586621679064094"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-type">Pure</span></a></span><span>       </span><span id="local-6989586621679064092"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064092"><span class="hs-identifier hs-var">r</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r. r -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-var">Pure</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064092"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-574"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;&gt;~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-575"></span><span>
</span><span id="line-576"></span><span class="hs-comment">{- $pull
    The 'pull' category closely corresponds to pull-based Unix pipes.

    The 'pull' category obeys the category laws, where 'pull' is the identity
    and ('&gt;+&gt;') is composition:

@
\-\- Left identity
'pull' '&gt;+&gt;' f = f

\-\- Right identity
f '&gt;+&gt;' 'pull' = f

\-\- Associativity
(f '&gt;+&gt;' g) '&gt;+&gt;' h = f '&gt;+&gt;' (g '&gt;+&gt;' h)
@

#pull-diagram#

    The following diagrams show the flow of information:

@
'pull'  :: 'Functor' m
      =&gt;  a' -&gt; 'Proxy' a' a a' a m r

\          a'
          |
     +----|----+
     |    v    |
 a' &lt;============ a'
     |         |
 a  ============&gt; a
     |    |    |
     +----|----+
          v
          r

('&gt;+&gt;') :: 'Functor' m
      -&gt; (b' -&gt; 'Proxy' a' a b' b m r)
      -&gt; (c' -&gt; 'Proxy' b' b c' c m r)
      -&gt; (c' -&gt; 'Proxy' a' a c' c m r)

\          b'               c'                     c'
          |                |                      |
     +----|----+      +----|----+            +----|----+
     |    v    |      |    v    |            |    v    |
 a' &lt;==       &lt;== b' &lt;==       &lt;== c'    a' &lt;==       &lt;== c'
     |    f    |      |    g    |     =      | f &gt;+&gt; g |
 a  ==&gt;       ==&gt; b  ==&gt;       ==&gt; c     a  ==&gt;       ==&gt; c
     |    |    |      |    |    |            |    |    |
     +----|----+      +----|----+            +----|----+
          v                v                      v
          r                r                      r
@

-}</span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span class="hs-comment">{-| Forward requests followed by responses:

@
'pull' = 'request' 'Control.Monad.&gt;=&gt;' 'respond' 'Control.Monad.&gt;=&gt;' 'pull'
@

    'pull' is the identity of the pull category.
-}</span><span>
</span><span id="line-641"></span><span id="local-6989586621679064414"><span id="local-6989586621679064415"><span id="local-6989586621679064416"><span id="local-6989586621679064417"><span class="annot"><a href="Pipes.Core.html#pull"><span class="hs-identifier hs-type">pull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064417"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679064416"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064416"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064415"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064416"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064415"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064417"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064414"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-642"></span><span id="pull"><span class="annot"><span class="annottext">pull :: forall (m :: * -&gt; *) a' a r. Functor m =&gt; a' -&gt; Proxy a' a a' a m r
</span><a href="Pipes.Core.html#pull"><span class="hs-identifier hs-var hs-var">pull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {b'} {b} {m :: * -&gt; *} {r}. b' -&gt; Proxy b' b b' b m r
</span><a href="#local-6989586621679064090"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-643"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-644"></span><span>    </span><span id="local-6989586621679064090"><span class="annot"><span class="annottext">go :: b' -&gt; Proxy b' b b' b m r
</span><a href="#local-6989586621679064090"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679064089"><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064089"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
a' -&gt; (a -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064089"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064088"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064088"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
b -&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-var">Respond</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064088"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy b' b b' b m r
</span><a href="#local-6989586621679064090"><span class="hs-identifier hs-var">go</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-645"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="annot"><a href="Pipes.Core.html#pull"><span class="hs-pragma hs-type">pull</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-646"></span><span>
</span><span id="line-647"></span><span class="hs-comment">{-| Compose two proxies blocked in the middle of 'respond'ing, creating a new
    proxy blocked in the middle of 'respond'ing

@
(f '&gt;+&gt;' g) x = f '+&gt;&gt;' g x
@

    ('&gt;+&gt;') is the composition operator of the pull category.
-}</span><span>
</span><span id="line-656"></span><span id="local-6989586621679064400"><span id="local-6989586621679064401"><span id="local-6989586621679064402"><span id="local-6989586621679064403"><span id="local-6989586621679064404"><span id="local-6989586621679064405"><span id="local-6989586621679064406"><span id="local-6989586621679064407"><span id="local-6989586621679064408"><span class="annot"><a href="Pipes.Core.html#%3E%2B%3E"><span class="hs-operator hs-type">(&gt;+&gt;)</span></a></span><span>
</span><span id="line-657"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064408"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-658"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679064407"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064406"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064405"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064407"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064404"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064408"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064403"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-659"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-660"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064402"><span class="hs-identifier hs-type">_c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064407"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064404"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064401"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064400"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064408"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064403"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-662"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064402"><span class="hs-identifier hs-type">_c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064406"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064405"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064401"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064400"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064408"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064403"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-664"></span><span class="hs-special">(</span><span id="local-6989586621679064085"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064085"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span id="%3E%2B%3E"><span class="annot"><span class="annottext">&gt;+&gt; :: forall (m :: * -&gt; *) b' a' a b r _c' c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; (_c' -&gt; Proxy b' b c' c m r) -&gt; _c' -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%2B%3E"><span class="hs-operator hs-var hs-var">&gt;+&gt;</span></a></span></span><span> </span><span id="local-6989586621679064084"><span class="annot"><span class="annottext">_c' -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064084"><span class="hs-identifier hs-var">fc'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679064083"><span class="annot"><span class="annottext">_c'
</span><a href="#local-6989586621679064083"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064085"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a b r c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; Proxy b' b c' c m r -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-var">+&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">_c' -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064084"><span class="hs-identifier hs-var">fc'</span></a></span><span> </span><span class="annot"><span class="annottext">_c'
</span><a href="#local-6989586621679064083"><span class="hs-identifier hs-var">c'</span></a></span><span>
</span><span id="line-665"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;+&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-666"></span><span>
</span><span id="line-667"></span><span class="hs-comment">{-| @(f +&gt;&gt; p)@ pairs each 'request' in @p@ with a 'respond' in @f@.

    Point-ful version of ('&gt;+&gt;')
-}</span><span>
</span><span id="line-671"></span><span id="local-6989586621679064418"><span id="local-6989586621679064419"><span id="local-6989586621679064420"><span id="local-6989586621679064421"><span id="local-6989586621679064422"><span id="local-6989586621679064423"><span id="local-6989586621679064424"><span id="local-6989586621679064425"><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-type">(+&gt;&gt;)</span></a></span><span>
</span><span id="line-672"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064425"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-673"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064424"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064423"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064422"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064424"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064421"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064425"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064420"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-675"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064424"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064421"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064419"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064418"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064425"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064420"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-676"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-677"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064423"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064422"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064419"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064418"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064425"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064420"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-678"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-679"></span><span id="local-6989586621679064077"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064077"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span id="%2B%3E%3E"><span class="annot"><span class="annottext">+&gt;&gt; :: forall (m :: * -&gt; *) b' a' a b r c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; Proxy b' b c' c m r -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-var hs-var">+&gt;&gt;</span></a></span></span><span> </span><span id="local-6989586621679064076"><span class="annot"><span class="annottext">Proxy b' b c' c m r
</span><a href="#local-6989586621679064076"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Proxy b' b c' c m r
</span><a href="#local-6989586621679064076"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-680"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679064075"><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064075"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span id="local-6989586621679064074"><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064074"><span class="hs-identifier hs-var">fb</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064077"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064075"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a' a b' b r c' c.
Functor m =&gt;
Proxy a' a b' b m r
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-var">&gt;&gt;~</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064074"><span class="hs-identifier hs-var">fb</span></a></span><span>
</span><span id="line-681"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-type">Respond</span></a></span><span> </span><span id="local-6989586621679064073"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679064073"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span id="local-6989586621679064072"><span class="annot"><span class="annottext">c' -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064072"><span class="hs-identifier hs-var">fc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
b -&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-var">Respond</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679064073"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064071"><span class="annot"><span class="annottext">c'
</span><a href="#local-6989586621679064071"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064077"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a b r c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; Proxy b' b c' c m r -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-var">+&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">c' -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064072"><span class="hs-identifier hs-var">fc'</span></a></span><span> </span><span class="annot"><span class="annottext">c'
</span><a href="#local-6989586621679064071"><span class="hs-identifier hs-var">c'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-682"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>          </span><span id="local-6989586621679064070"><span class="annot"><span class="annottext">m (Proxy b' b c' c m r)
</span><a href="#local-6989586621679064070"><span class="hs-identifier hs-var">m</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
m (Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064069"><span class="annot"><span class="annottext">Proxy b' b c' c m r
</span><a href="#local-6989586621679064069"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064077"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a b r c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; Proxy b' b c' c m r -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-var">+&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy b' b c' c m r
</span><a href="#local-6989586621679064069"><span class="hs-identifier hs-var">p'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (Proxy b' b c' c m r)
</span><a href="#local-6989586621679064070"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-683"></span><span>    </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-type">Pure</span></a></span><span>       </span><span id="local-6989586621679064068"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064068"><span class="hs-identifier hs-var">r</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r. r -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-var">Pure</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064068"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-684"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">+&gt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-685"></span><span>
</span><span id="line-686"></span><span class="hs-comment">{- $reflect
    @(reflect .)@ transforms each streaming category into its dual:

    * The request category is the dual of the respond category

@
'reflect' '.' 'respond' = 'request'

'reflect' '.' (f '/&gt;/' g) = 'reflect' '.' f '/&lt;/' 'reflect' '.' g
@

@
'reflect' '.' 'request' = 'respond'

'reflect' '.' (f '\&gt;\' g) = 'reflect' '.' f '\&lt;\' 'reflect' '.' g
@

    * The pull category is the dual of the push category

@
'reflect' '.' 'push' = 'pull'

'reflect' '.' (f '&gt;~&gt;' g) = 'reflect' '.' f '&lt;+&lt;' 'reflect' '.' g
@

@
'reflect' '.' 'pull' = 'push'

'reflect' '.' (f '&gt;+&gt;' g) = 'reflect' '.' f '&lt;~&lt;' 'reflect' '.' g
@
-}</span><span>
</span><span id="line-717"></span><span>
</span><span id="line-718"></span><span class="hs-comment">-- | Switch the upstream and downstream ends</span><span>
</span><span id="line-719"></span><span id="local-6989586621679064377"><span id="local-6989586621679064378"><span id="local-6989586621679064379"><span id="local-6989586621679064380"><span id="local-6989586621679064381"><span id="local-6989586621679064382"><span class="annot"><a href="Pipes.Core.html#reflect"><span class="hs-identifier hs-type">reflect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064382"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064381"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064379"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064378"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064382"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064377"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064378"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064379"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064381"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064382"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064377"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-720"></span><span id="reflect"><span class="annot"><span class="annottext">reflect :: forall (m :: * -&gt; *) a' a b' b r.
Functor m =&gt;
Proxy a' a b' b m r -&gt; Proxy b b' a a' m r
</span><a href="Pipes.Core.html#reflect"><span class="hs-identifier hs-var hs-var">reflect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a' a b' b r.
Functor m =&gt;
Proxy a' a b' b m r -&gt; Proxy b b' a a' m r
</span><a href="#local-6989586621679064065"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-721"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-722"></span><span>    </span><span id="local-6989586621679064065"><span class="annot"><span class="annottext">go :: Proxy b a b' a' m r -&gt; Proxy a' b' a b m r
</span><a href="#local-6989586621679064065"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679064062"><span class="annot"><span class="annottext">Proxy b a b' a' m r
</span><a href="#local-6989586621679064062"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Proxy b a b' a' m r
</span><a href="#local-6989586621679064062"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-723"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679064061"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064061"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span id="local-6989586621679064060"><span class="annot"><span class="annottext">a -&gt; Proxy b a b' a' m r
</span><a href="#local-6989586621679064060"><span class="hs-identifier hs-var">fa</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
b -&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-var">Respond</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679064061"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064059"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064059"><span class="hs-identifier hs-var">a</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy b a b' a' m r -&gt; Proxy a' b' a b m r
</span><a href="#local-6989586621679064065"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Proxy b a b' a' m r
</span><a href="#local-6989586621679064060"><span class="hs-identifier hs-var">fa</span></a></span><span>  </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679064059"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-724"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Respond"><span class="hs-identifier hs-type">Respond</span></a></span><span> </span><span id="local-6989586621679064058"><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064058"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span id="local-6989586621679064057"><span class="annot"><span class="annottext">b' -&gt; Proxy b a b' a' m r
</span><a href="#local-6989586621679064057"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
a' -&gt; (a -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">a'
</span><a href="#local-6989586621679064058"><span class="hs-identifier hs-var">b</span></a></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679064056"><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064056"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy b a b' a' m r -&gt; Proxy a' b' a b m r
</span><a href="#local-6989586621679064065"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b' -&gt; Proxy b a b' a' m r
</span><a href="#local-6989586621679064057"><span class="hs-identifier hs-var">fb'</span></a></span><span> </span><span class="annot"><span class="annottext">b'
</span><a href="#local-6989586621679064056"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-725"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>          </span><span id="local-6989586621679064055"><span class="annot"><span class="annottext">m (Proxy b a b' a' m r)
</span><a href="#local-6989586621679064055"><span class="hs-identifier hs-var">m</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r.
m (Proxy a' a b' b m r) -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b a b' a' m r -&gt; Proxy a' b' a b m r
</span><a href="#local-6989586621679064065"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (Proxy b a b' a' m r)
</span><a href="#local-6989586621679064055"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-type">Pure</span></a></span><span>    </span><span id="local-6989586621679064054"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064054"><span class="hs-identifier hs-var">r</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a' a b' b (m :: * -&gt; *) r. r -&gt; Proxy a' a b' b m r
</span><a href="Pipes.Internal.html#Pure"><span class="hs-identifier hs-var">Pure</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679064054"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-727"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Pipes.Core.html#reflect"><span class="hs-pragma hs-type">reflect</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-728"></span><span>
</span><span id="line-729"></span><span class="hs-comment">{-| An effect in the base monad

    'Effect's neither 'Pipes.await' nor 'Pipes.yield'
-}</span><span>
</span><span id="line-733"></span><span class="hs-keyword">type</span><span> </span><span id="Effect"><span class="annot"><a href="Pipes.Core.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier hs-type">X</span></a></span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span class="hs-comment">-- | 'Producer's can only 'Pipes.yield'</span><span>
</span><span id="line-736"></span><span class="hs-keyword">type</span><span> </span><span id="Producer"><span class="annot"><a href="Pipes.Core.html#Producer"><span class="hs-identifier hs-var">Producer</span></a></span></span><span> </span><span id="local-6989586621679064053"><span class="annot"><a href="#local-6989586621679064053"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679064053"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span class="hs-comment">-- | 'Pipe's can both 'Pipes.await' and 'Pipes.yield'</span><span>
</span><span id="line-739"></span><span class="hs-keyword">type</span><span> </span><span id="Pipe"><span class="annot"><a href="Pipes.Core.html#Pipe"><span class="hs-identifier hs-var">Pipe</span></a></span></span><span> </span><span id="local-6989586621679064052"><span class="annot"><a href="#local-6989586621679064052"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679064051"><span class="annot"><a href="#local-6989586621679064051"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679064052"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679064051"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-740"></span><span>
</span><span id="line-741"></span><span class="hs-comment">-- | 'Consumer's can only 'Pipes.await'</span><span>
</span><span id="line-742"></span><span class="hs-keyword">type</span><span> </span><span id="Consumer"><span class="annot"><a href="Pipes.Core.html#Consumer"><span class="hs-identifier hs-var">Consumer</span></a></span></span><span> </span><span id="local-6989586621679064050"><span class="annot"><a href="#local-6989586621679064050"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679064050"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier hs-type">X</span></a></span><span>
</span><span id="line-743"></span><span>
</span><span id="line-744"></span><span class="hs-comment">{-| @Client a' a@ sends requests of type @a'@ and receives responses of
    type @a@.

    'Client's only 'request' and never 'respond'.
-}</span><span>
</span><span id="line-749"></span><span class="hs-keyword">type</span><span> </span><span id="Client"><span class="annot"><a href="Pipes.Core.html#Client"><span class="hs-identifier hs-var">Client</span></a></span></span><span> </span><span id="local-6989586621679064049"><span class="annot"><a href="#local-6989586621679064049"><span class="hs-identifier hs-type">a'</span></a></span></span><span> </span><span id="local-6989586621679064048"><span class="annot"><a href="#local-6989586621679064048"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064049"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064048"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier hs-type">X</span></a></span><span>
</span><span id="line-750"></span><span>
</span><span id="line-751"></span><span class="hs-comment">{-| @Server b' b@ receives requests of type @b'@ and sends responses of type
    @b@.

    'Server's only 'respond' and never 'request'.
-}</span><span>
</span><span id="line-756"></span><span class="hs-keyword">type</span><span> </span><span id="Server"><span class="annot"><a href="Pipes.Core.html#Server"><span class="hs-identifier hs-var">Server</span></a></span></span><span> </span><span id="local-6989586621679064047"><span class="annot"><a href="#local-6989586621679064047"><span class="hs-identifier hs-type">b'</span></a></span></span><span> </span><span id="local-6989586621679064046"><span class="annot"><a href="#local-6989586621679064046"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="Pipes.Internal.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679064047"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064046"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-757"></span><span>
</span><span id="line-758"></span><span class="hs-comment">-- | Like 'Effect', but with a polymorphic type</span><span>
</span><span id="line-759"></span><span class="hs-keyword">type</span><span> </span><span id="Effect%27"><span class="annot"><a href="Pipes.Core.html#Effect%27"><span class="hs-identifier hs-var">Effect'</span></a></span></span><span> </span><span id="local-6989586621679064045"><span class="annot"><a href="#local-6989586621679064045"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679064044"><span class="annot"><a href="#local-6989586621679064044"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679064043"><span class="annot"><a href="#local-6989586621679064043"><span class="hs-identifier hs-type">x'</span></a></span></span><span> </span><span id="local-6989586621679064042"><span class="annot"><a href="#local-6989586621679064042"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679064041"><span class="annot"><a href="#local-6989586621679064041"><span class="hs-identifier hs-type">y'</span></a></span></span><span> </span><span id="local-6989586621679064040"><span class="annot"><a href="#local-6989586621679064040"><span class="hs-identifier hs-type">y</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064043"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064042"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064041"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064040"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064045"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064044"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span class="hs-comment">-- | Like 'Producer', but with a polymorphic type</span><span>
</span><span id="line-762"></span><span class="hs-keyword">type</span><span> </span><span id="Producer%27"><span class="annot"><a href="Pipes.Core.html#Producer%27"><span class="hs-identifier hs-var">Producer'</span></a></span></span><span> </span><span id="local-6989586621679064039"><span class="annot"><a href="#local-6989586621679064039"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679064038"><span class="annot"><a href="#local-6989586621679064038"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679064037"><span class="annot"><a href="#local-6989586621679064037"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679064036"><span class="annot"><a href="#local-6989586621679064036"><span class="hs-identifier hs-type">x'</span></a></span></span><span> </span><span id="local-6989586621679064035"><span class="annot"><a href="#local-6989586621679064035"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064036"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064035"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679064039"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064038"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064037"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-763"></span><span>
</span><span id="line-764"></span><span class="hs-comment">-- | Like 'Consumer', but with a polymorphic type</span><span>
</span><span id="line-765"></span><span class="hs-keyword">type</span><span> </span><span id="Consumer%27"><span class="annot"><a href="Pipes.Core.html#Consumer%27"><span class="hs-identifier hs-var">Consumer'</span></a></span></span><span> </span><span id="local-6989586621679064034"><span class="annot"><a href="#local-6989586621679064034"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679064033"><span class="annot"><a href="#local-6989586621679064033"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679064032"><span class="annot"><a href="#local-6989586621679064032"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679064031"><span class="annot"><a href="#local-6989586621679064031"><span class="hs-identifier hs-type">y'</span></a></span></span><span> </span><span id="local-6989586621679064030"><span class="annot"><a href="#local-6989586621679064030"><span class="hs-identifier hs-type">y</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679064034"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064031"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064030"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064033"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064032"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-766"></span><span>
</span><span id="line-767"></span><span class="hs-comment">-- | Like 'Server', but with a polymorphic type</span><span>
</span><span id="line-768"></span><span class="hs-keyword">type</span><span> </span><span id="Server%27"><span class="annot"><a href="Pipes.Core.html#Server%27"><span class="hs-identifier hs-var">Server'</span></a></span></span><span> </span><span id="local-6989586621679064029"><span class="annot"><a href="#local-6989586621679064029"><span class="hs-identifier hs-type">b'</span></a></span></span><span> </span><span id="local-6989586621679064028"><span class="annot"><a href="#local-6989586621679064028"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679064027"><span class="annot"><a href="#local-6989586621679064027"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679064026"><span class="annot"><a href="#local-6989586621679064026"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679064025"><span class="annot"><a href="#local-6989586621679064025"><span class="hs-identifier hs-type">x'</span></a></span></span><span> </span><span id="local-6989586621679064024"><span class="annot"><a href="#local-6989586621679064024"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064025"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064024"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064029"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064028"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064027"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064026"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span class="hs-comment">-- | Like 'Client', but with a polymorphic type</span><span>
</span><span id="line-771"></span><span class="hs-keyword">type</span><span> </span><span id="Client%27"><span class="annot"><a href="Pipes.Core.html#Client%27"><span class="hs-identifier hs-var">Client'</span></a></span></span><span> </span><span id="local-6989586621679064023"><span class="annot"><a href="#local-6989586621679064023"><span class="hs-identifier hs-type">a'</span></a></span></span><span> </span><span id="local-6989586621679064022"><span class="annot"><a href="#local-6989586621679064022"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679064021"><span class="annot"><a href="#local-6989586621679064021"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679064020"><span class="annot"><a href="#local-6989586621679064020"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679064019"><span class="annot"><a href="#local-6989586621679064019"><span class="hs-identifier hs-type">y'</span></a></span></span><span> </span><span id="local-6989586621679064018"><span class="annot"><a href="#local-6989586621679064018"><span class="hs-identifier hs-type">y</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064023"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064022"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064019"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064018"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064021"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064020"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span class="hs-comment">-- | Equivalent to ('/&gt;/') with the arguments flipped</span><span>
</span><span id="line-774"></span><span id="local-6989586621679064361"><span id="local-6989586621679064362"><span id="local-6989586621679064363"><span id="local-6989586621679064364"><span id="local-6989586621679064365"><span id="local-6989586621679064366"><span id="local-6989586621679064367"><span id="local-6989586621679064368"><span id="local-6989586621679064369"><span class="annot"><a href="Pipes.Core.html#%5C%3C%5C"><span class="hs-operator hs-type">(\&lt;\)</span></a></span><span>
</span><span id="line-775"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064369"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-776"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064368"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064367"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064366"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064365"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064364"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064369"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064363"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-777"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-778"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064362"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064367"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064366"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064363"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064368"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064369"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064361"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-780"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064362"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064367"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064366"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064365"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064364"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064369"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064361"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-781"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-782"></span><span id="local-6989586621679064015"><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679064015"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="%5C%3C%5C"><span class="annot"><span class="annottext">\&lt;\ :: forall (m :: * -&gt; *) b x' x c' c b' a a'.
Functor m =&gt;
(b -&gt; Proxy x' x c' c m b')
-&gt; (a -&gt; Proxy x' x b' b m a') -&gt; a -&gt; Proxy x' x c' c m a'
</span><a href="Pipes.Core.html#%5C%3C%5C"><span class="hs-operator hs-var hs-var">\&lt;\</span></a></span></span><span> </span><span id="local-6989586621679064014"><span class="annot"><span class="annottext">a -&gt; Proxy x' x b' b m a'
</span><a href="#local-6989586621679064014"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Proxy x' x b' b m a'
</span><a href="#local-6989586621679064014"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a x' x b' b a' c' c.
Functor m =&gt;
(a -&gt; Proxy x' x b' b m a')
-&gt; (b -&gt; Proxy x' x c' c m b') -&gt; a -&gt; Proxy x' x c' c m a'
</span><a href="Pipes.Core.html#%2F%3E%2F"><span class="hs-operator hs-var">/&gt;/</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679064015"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-783"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\&lt;\</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-784"></span><span>
</span><span id="line-785"></span><span class="hs-comment">-- | Equivalent to ('\&gt;\') with the arguments flipped</span><span>
</span><span id="line-786"></span><span id="local-6989586621679064343"><span id="local-6989586621679064344"><span id="local-6989586621679064345"><span id="local-6989586621679064346"><span id="local-6989586621679064347"><span id="local-6989586621679064348"><span id="local-6989586621679064349"><span id="local-6989586621679064350"><span id="local-6989586621679064351"><span class="annot"><a href="Pipes.Core.html#%2F%3C%2F"><span class="hs-operator hs-type">(/&lt;/)</span></a></span><span>
</span><span id="line-787"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064351"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-788"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064350"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064349"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064348"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064347"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064346"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064351"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064345"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-790"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064349"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064344"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064343"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064347"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064346"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064351"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064348"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-792"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064350"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064344"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064343"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064347"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064346"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064351"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064345"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-793"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-794"></span><span id="local-6989586621679064011"><span class="annot"><span class="annottext">c' -&gt; Proxy b' b x' x m c
</span><a href="#local-6989586621679064011"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="%2F%3C%2F"><span class="annot"><span class="annottext">/&lt;/ :: forall (m :: * -&gt; *) c' b' b x' x c a' a.
Functor m =&gt;
(c' -&gt; Proxy b' b x' x m c)
-&gt; (b' -&gt; Proxy a' a x' x m b) -&gt; c' -&gt; Proxy a' a x' x m c
</span><a href="Pipes.Core.html#%2F%3C%2F"><span class="hs-operator hs-var hs-var">/&lt;/</span></a></span></span><span> </span><span id="local-6989586621679064010"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a x' x m b
</span><a href="#local-6989586621679064010"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a x' x m b
</span><a href="#local-6989586621679064010"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a y' y b c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a y' y m b)
-&gt; (c' -&gt; Proxy b' b y' y m c) -&gt; c' -&gt; Proxy a' a y' y m c
</span><a href="Pipes.Core.html#%5C%3E%5C"><span class="hs-operator hs-var">\&gt;\</span></a></span><span> </span><span class="annot"><span class="annottext">c' -&gt; Proxy b' b x' x m c
</span><a href="#local-6989586621679064011"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-795"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">/&lt;/</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-796"></span><span>
</span><span id="line-797"></span><span class="hs-comment">-- | Equivalent to ('&gt;~&gt;') with the arguments flipped</span><span>
</span><span id="line-798"></span><span id="local-6989586621679064326"><span id="local-6989586621679064327"><span id="local-6989586621679064328"><span id="local-6989586621679064329"><span id="local-6989586621679064330"><span id="local-6989586621679064331"><span id="local-6989586621679064332"><span id="local-6989586621679064333"><span class="annot"><a href="Pipes.Core.html#%3C~%3C"><span class="hs-operator hs-type">(&lt;~&lt;)</span></a></span><span>
</span><span id="line-799"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064333"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-800"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064332"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064331"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064332"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064330"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064329"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064333"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064328"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-801"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-802"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064326"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064331"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064332"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064333"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064328"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-803"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-804"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064326"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064330"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064329"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064333"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064328"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-805"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-806"></span><span id="local-6989586621679064007"><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064007"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="%3C~%3C"><span class="annot"><span class="annottext">&lt;~&lt; :: forall (m :: * -&gt; *) b b' c' c r a a'.
Functor m =&gt;
(b -&gt; Proxy b' b c' c m r)
-&gt; (a -&gt; Proxy a' a b' b m r) -&gt; a -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3C~%3C"><span class="hs-operator hs-var hs-var">&lt;~&lt;</span></a></span></span><span> </span><span id="local-6989586621679064006"><span class="annot"><span class="annottext">a -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064006"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064006"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) _a a' a b' b r c' c.
Functor m =&gt;
(_a -&gt; Proxy a' a b' b m r)
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; _a -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E~%3E"><span class="hs-operator hs-var">&gt;~&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064007"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-807"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;~&lt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-808"></span><span>
</span><span id="line-809"></span><span class="hs-comment">-- | Equivalent to ('&gt;+&gt;') with the arguments flipped</span><span>
</span><span id="line-810"></span><span id="local-6989586621679064310"><span id="local-6989586621679064311"><span id="local-6989586621679064312"><span id="local-6989586621679064313"><span id="local-6989586621679064314"><span id="local-6989586621679064315"><span id="local-6989586621679064316"><span id="local-6989586621679064317"><span class="annot"><a href="Pipes.Core.html#%3C%2B%3C"><span class="hs-operator hs-type">(&lt;+&lt;)</span></a></span><span>
</span><span id="line-811"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064317"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-812"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064316"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064315"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064314"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064316"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064313"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064317"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064312"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-813"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-814"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064315"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064311"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064310"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064315"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064314"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064317"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064312"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-816"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064316"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064311"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064310"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064316"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064313"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064317"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064312"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-817"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-818"></span><span id="local-6989586621679064003"><span class="annot"><span class="annottext">c' -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064003"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="%3C%2B%3C"><span class="annot"><span class="annottext">&lt;+&lt; :: forall (m :: * -&gt; *) c' b' b c r a' a.
Functor m =&gt;
(c' -&gt; Proxy b' b c' c m r)
-&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; c' -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3C%2B%3C"><span class="hs-operator hs-var hs-var">&lt;+&lt;</span></a></span></span><span> </span><span id="local-6989586621679064002"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064002"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679064002"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a b r _c' c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; (_c' -&gt; Proxy b' b c' c m r) -&gt; _c' -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%2B%3E"><span class="hs-operator hs-var">&gt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">c' -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679064003"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-819"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;+&lt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-820"></span><span>
</span><span id="line-821"></span><span class="hs-comment">-- | Equivalent to ('//&gt;') with the arguments flipped</span><span>
</span><span id="line-822"></span><span id="local-6989586621679064294"><span id="local-6989586621679064295"><span id="local-6989586621679064296"><span id="local-6989586621679064297"><span id="local-6989586621679064298"><span id="local-6989586621679064299"><span id="local-6989586621679064300"><span id="local-6989586621679064301"><span class="annot"><a href="Pipes.Core.html#%3C%5C%5C"><span class="hs-operator hs-type">(&lt;\\)</span></a></span><span>
</span><span id="line-823"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064301"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-824"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064300"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064299"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064298"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064297"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064296"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064301"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064295"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-826"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>       </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064299"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064298"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064295"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064300"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064301"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064294"><span class="hs-identifier hs-type">a'</span></a></span><span>
</span><span id="line-827"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-828"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>       </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064299"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064298"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064297"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064296"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064301"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064294"><span class="hs-identifier hs-type">a'</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-829"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-830"></span><span id="local-6989586621679063999"><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679063999"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%3C%5C%5C"><span class="annot"><span class="annottext">&lt;\\ :: forall (m :: * -&gt; *) b x' x c' c b' a'.
Functor m =&gt;
(b -&gt; Proxy x' x c' c m b')
-&gt; Proxy x' x b' b m a' -&gt; Proxy x' x c' c m a'
</span><a href="Pipes.Core.html#%3C%5C%5C"><span class="hs-operator hs-var hs-var">&lt;\\</span></a></span></span><span> </span><span id="local-6989586621679063998"><span class="annot"><span class="annottext">Proxy x' x b' b m a'
</span><a href="#local-6989586621679063998"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy x' x b' b m a'
</span><a href="#local-6989586621679063998"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) x' x b' b a' c' c.
Functor m =&gt;
Proxy x' x b' b m a'
-&gt; (b -&gt; Proxy x' x c' c m b') -&gt; Proxy x' x c' c m a'
</span><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-operator hs-var">//&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy x' x c' c m b'
</span><a href="#local-6989586621679063999"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-831"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;\\</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span class="hs-comment">-- | Equivalent to ('&gt;\\') with the arguments flipped</span><span>
</span><span id="line-834"></span><span id="local-6989586621679064278"><span id="local-6989586621679064279"><span id="local-6989586621679064280"><span id="local-6989586621679064281"><span id="local-6989586621679064282"><span id="local-6989586621679064283"><span id="local-6989586621679064284"><span id="local-6989586621679064285"><span class="annot"><a href="Pipes.Core.html#%2F%2F%3C"><span class="hs-operator hs-type">(//&lt;)</span></a></span><span>
</span><span id="line-835"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064285"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-836"></span><span>    </span><span class="hs-glyph">=&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064284"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064283"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064282"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064281"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064285"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064280"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-837"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-838"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064284"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064279"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064278"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064282"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064281"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064285"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064283"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-839"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-840"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064279"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064278"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064282"><span class="hs-identifier hs-type">y'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064281"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064285"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064280"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-841"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-842"></span><span id="local-6989586621679063995"><span class="annot"><span class="annottext">Proxy b' b y' y m c
</span><a href="#local-6989586621679063995"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="%2F%2F%3C"><span class="annot"><span class="annottext">//&lt; :: forall (m :: * -&gt; *) b' b y' y c a' a.
Functor m =&gt;
Proxy b' b y' y m c
-&gt; (b' -&gt; Proxy a' a y' y m b) -&gt; Proxy a' a y' y m c
</span><a href="Pipes.Core.html#%2F%2F%3C"><span class="hs-operator hs-var hs-var">//&lt;</span></a></span></span><span> </span><span id="local-6989586621679063994"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679063994"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a y' y m b
</span><a href="#local-6989586621679063994"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a y' y b c.
Functor m =&gt;
(b' -&gt; Proxy a' a y' y m b)
-&gt; Proxy b' b y' y m c -&gt; Proxy a' a y' y m c
</span><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-operator hs-var">&gt;\\</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy b' b y' y m c
</span><a href="#local-6989586621679063995"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-843"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">//&lt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span class="hs-comment">-- | Equivalent to ('&gt;&gt;~') with the arguments flipped</span><span>
</span><span id="line-846"></span><span id="local-6989586621679064262"><span id="local-6989586621679064263"><span id="local-6989586621679064264"><span id="local-6989586621679064265"><span id="local-6989586621679064266"><span id="local-6989586621679064267"><span id="local-6989586621679064268"><span id="local-6989586621679064269"><span class="annot"><a href="Pipes.Core.html#~%3C%3C"><span class="hs-operator hs-type">(~&lt;&lt;)</span></a></span><span>
</span><span id="line-847"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064269"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-848"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064268"><span class="hs-identifier hs-type">b</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064267"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064268"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064266"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064265"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064269"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064264"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-849"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-850"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064263"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064262"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064267"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064268"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064269"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064264"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-851"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-852"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064263"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064262"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064266"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064265"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064269"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064264"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-853"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-854"></span><span id="local-6989586621679063991"><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679063991"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="~%3C%3C"><span class="annot"><span class="annottext">~&lt;&lt; :: forall (m :: * -&gt; *) b b' c' c r a' a.
Functor m =&gt;
(b -&gt; Proxy b' b c' c m r)
-&gt; Proxy a' a b' b m r -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#~%3C%3C"><span class="hs-operator hs-var hs-var">~&lt;&lt;</span></a></span></span><span> </span><span id="local-6989586621679063990"><span class="annot"><span class="annottext">Proxy a' a b' b m r
</span><a href="#local-6989586621679063990"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy a' a b' b m r
</span><a href="#local-6989586621679063990"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a' a b' b r c' c.
Functor m =&gt;
Proxy a' a b' b m r
-&gt; (b -&gt; Proxy b' b c' c m r) -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3E%3E~"><span class="hs-operator hs-var">&gt;&gt;~</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Proxy b' b c' c m r
</span><a href="#local-6989586621679063991"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-855"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">~&lt;&lt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span class="hs-comment">-- | Equivalent to ('+&gt;&gt;') with the arguments flipped</span><span>
</span><span id="line-858"></span><span id="local-6989586621679064246"><span id="local-6989586621679064247"><span id="local-6989586621679064248"><span id="local-6989586621679064249"><span id="local-6989586621679064250"><span id="local-6989586621679064251"><span id="local-6989586621679064252"><span id="local-6989586621679064253"><span class="annot"><a href="Pipes.Core.html#%3C%3C%2B"><span class="hs-operator hs-type">(&lt;&lt;+)</span></a></span><span>
</span><span id="line-859"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679064253"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-860"></span><span>    </span><span class="hs-glyph">=&gt;</span><span>         </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064252"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064251"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064250"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064249"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064253"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064248"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-861"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-862"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679064252"><span class="hs-identifier hs-type">b'</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064247"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064246"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064252"><span class="hs-identifier hs-type">b'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064251"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064253"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064248"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-863"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-864"></span><span>    </span><span class="hs-glyph">-&gt;</span><span>         </span><span class="annot"><a href="Pipes.Internal.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064247"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064246"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064250"><span class="hs-identifier hs-type">c'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064249"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064253"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679064248"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-865"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-866"></span><span id="local-6989586621679063987"><span class="annot"><span class="annottext">Proxy b' b c' c m r
</span><a href="#local-6989586621679063987"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="%3C%3C%2B"><span class="annot"><span class="annottext">&lt;&lt;+ :: forall (m :: * -&gt; *) b' b c' c r a' a.
Functor m =&gt;
Proxy b' b c' c m r
-&gt; (b' -&gt; Proxy a' a b' b m r) -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%3C%3C%2B"><span class="hs-operator hs-var hs-var">&lt;&lt;+</span></a></span></span><span> </span><span id="local-6989586621679063986"><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679063986"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b' -&gt; Proxy a' a b' b m r
</span><a href="#local-6989586621679063986"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b' a' a b r c' c.
Functor m =&gt;
(b' -&gt; Proxy a' a b' b m r)
-&gt; Proxy b' b c' c m r -&gt; Proxy a' a c' c m r
</span><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-operator hs-var">+&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy b' b c' c m r
</span><a href="#local-6989586621679063987"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-867"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&lt;+</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-868"></span><span>
</span><span id="line-869"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-870"></span><span>    </span><span class="annot"><span class="hs-pragma">&quot;(p //&gt; f) //&gt; g&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063985"><span class="annot"><a href="#local-6989586621679063985"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679063984"><span class="annot"><a href="#local-6989586621679063984"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679063983"><span class="annot"><a href="#local-6989586621679063983"><span class="hs-pragma hs-var">g</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679063985"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063984"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063983"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063985"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679063982"><span class="annot"><a href="#local-6989586621679063982"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063984"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063982"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063983"><span class="hs-pragma hs-type">g</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-871"></span><span>
</span><span id="line-872"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;p //&gt; respond&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063981"><span class="annot"><a href="#local-6989586621679063981"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="#local-6989586621679063981"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#respond"><span class="hs-pragma hs-type">respond</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063981"><span class="hs-pragma hs-type">p</span></a></span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;respond x //&gt; f&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063980"><span class="annot"><a href="#local-6989586621679063980"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679063979"><span class="annot"><a href="#local-6989586621679063979"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="Pipes.Core.html#respond"><span class="hs-pragma hs-type">respond</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063980"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2F%2F%3E"><span class="hs-pragma hs-type">//&gt;</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621679063979"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063979"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063980"><span class="hs-pragma hs-type">x</span></a></span><span>
</span><span id="line-875"></span><span>
</span><span id="line-876"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;f &gt;\\ (g &gt;\\ p)&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063978"><span class="annot"><a href="#local-6989586621679063978"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679063977"><span class="annot"><a href="#local-6989586621679063977"><span class="hs-pragma hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679063976"><span class="annot"><a href="#local-6989586621679063976"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="#local-6989586621679063978"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679063977"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063976"><span class="hs-pragma hs-type">p</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679063975"><span class="annot"><a href="#local-6989586621679063975"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063978"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063977"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063975"><span class="hs-pragma hs-type">x</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063976"><span class="hs-pragma hs-type">p</span></a></span><span>
</span><span id="line-877"></span><span>
</span><span id="line-878"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;request &gt;\\ p&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063974"><span class="annot"><a href="#local-6989586621679063974"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="Pipes.Core.html#request"><span class="hs-pragma hs-type">request</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063974"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063974"><span class="hs-pragma hs-type">p</span></a></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;f &gt;\\ request x&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063973"><span class="annot"><a href="#local-6989586621679063973"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679063972"><span class="annot"><a href="#local-6989586621679063972"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="#local-6989586621679063973"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%5C%5C"><span class="hs-pragma hs-type">&gt;\\</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#request"><span class="hs-pragma hs-type">request</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063972"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063973"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063972"><span class="hs-pragma hs-type">x</span></a></span><span>
</span><span id="line-881"></span><span>
</span><span id="line-882"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;(p &gt;&gt;~ f) &gt;&gt;~ g&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063971"><span class="annot"><a href="#local-6989586621679063971"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679063970"><span class="annot"><a href="#local-6989586621679063970"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679063969"><span class="annot"><a href="#local-6989586621679063969"><span class="hs-pragma hs-var">g</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679063971"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-pragma hs-type">&gt;&gt;~</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063970"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-pragma hs-type">&gt;&gt;~</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063969"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063971"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-pragma hs-type">&gt;&gt;~</span></a></span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679063968"><span class="annot"><a href="#local-6989586621679063968"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063970"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063968"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-pragma hs-type">&gt;&gt;~</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063969"><span class="hs-pragma hs-type">g</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;p &gt;&gt;~ push&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063967"><span class="annot"><a href="#local-6989586621679063967"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="#local-6989586621679063967"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-pragma hs-type">&gt;&gt;~</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#push"><span class="hs-pragma hs-type">push</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063967"><span class="hs-pragma hs-type">p</span></a></span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;push x &gt;&gt;~ f&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063966"><span class="annot"><a href="#local-6989586621679063966"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679063965"><span class="annot"><a href="#local-6989586621679063965"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="Pipes.Core.html#push"><span class="hs-pragma hs-type">push</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063966"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%3E%3E~"><span class="hs-pragma hs-type">&gt;&gt;~</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063965"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063965"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063966"><span class="hs-pragma hs-type">x</span></a></span><span>
</span><span id="line-887"></span><span>
</span><span id="line-888"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;f +&gt;&gt; (g +&gt;&gt; p)&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063964"><span class="annot"><a href="#local-6989586621679063964"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679063963"><span class="annot"><a href="#local-6989586621679063963"><span class="hs-pragma hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679063962"><span class="annot"><a href="#local-6989586621679063962"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="#local-6989586621679063964"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-pragma hs-type">+&gt;&gt;</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679063963"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-pragma hs-type">+&gt;&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063962"><span class="hs-pragma hs-type">p</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span id="local-6989586621679063961"><span class="annot"><a href="#local-6989586621679063961"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063964"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-pragma hs-type">+&gt;&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063963"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063961"><span class="hs-pragma hs-type">x</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-pragma hs-type">+&gt;&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063962"><span class="hs-pragma hs-type">p</span></a></span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;pull +&gt;&gt; p&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063960"><span class="annot"><a href="#local-6989586621679063960"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="Pipes.Core.html#pull"><span class="hs-pragma hs-type">pull</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-pragma hs-type">+&gt;&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063960"><span class="hs-pragma hs-type">p</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063960"><span class="hs-pragma hs-type">p</span></a></span><span>
</span><span id="line-891"></span><span>
</span><span id="line-892"></span><span>  </span><span class="hs-pragma">;</span><span> </span><span class="annot"><span class="hs-pragma">&quot;f +&gt;&gt; pull x&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679063959"><span class="annot"><a href="#local-6989586621679063959"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679063958"><span class="annot"><a href="#local-6989586621679063958"><span class="hs-pragma hs-var">x</span></a></span></span><span> </span><span class="hs-pragma">.</span><span> </span><span class="annot"><a href="#local-6989586621679063959"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#%2B%3E%3E"><span class="hs-pragma hs-type">+&gt;&gt;</span></a></span><span> </span><span class="annot"><a href="Pipes.Core.html#pull"><span class="hs-pragma hs-type">pull</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063958"><span class="hs-pragma hs-type">x</span></a></span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="#local-6989586621679063959"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063958"><span class="hs-pragma hs-type">x</span></a></span><span>
</span><span id="line-893"></span><span>
</span><span id="line-894"></span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-895"></span></pre></body></html>