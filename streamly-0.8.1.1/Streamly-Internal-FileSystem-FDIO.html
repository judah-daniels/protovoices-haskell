<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streamly.Internal.FileSystem.FDIO</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streamly-0.8.1.1: Dataflow programming and declarative concurrency</span><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.FileSystem.FDIO.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2019 Composewell Technologies</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.FileSystem.FDIO</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Low level IO routines interfacing the operating system.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:write">write</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Foreign-C-Types.html#t:CSize" title="Foreign.C.Types">CSize</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.16.4.0/Foreign-C-Types.html#t:CInt" title="Foreign.C.Types">CInt</a></li><li class="src short"><a href="#v:writeAll">writeAll</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:writev">writev</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="Streamly-Internal-System-IOVec-Type.html#t:IOVec" title="Streamly.Internal.System.IOVec.Type">IOVec</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.16.4.0/Foreign-C-Types.html#t:CInt" title="Foreign.C.Types">CInt</a></li><li class="src short"><a href="#v:writevAll">writevAll</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="Streamly-Internal-System-IOVec-Type.html#t:IOVec" title="Streamly.Internal.System.IOVec.Type">IOVec</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:write" class="def">write</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Foreign-C-Types.html#t:CSize" title="Foreign.C.Types">CSize</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.16.4.0/Foreign-C-Types.html#t:CInt" title="Foreign.C.Types">CInt</a> <a href="src/Streamly.Internal.FileSystem.FDIO.html#write" class="link">Source</a> <a href="#v:write" class="selflink">#</a></p><div class="doc"><p><code>write FD buffer offset length</code> tries to write data on the given
 filesystem fd (cannot be a socket) up to sepcified length starting from the
 given offset in the buffer. The write will not block the OS thread, it may
 suspend the Haskell thread until write can proceed.  Returns the actual
 amount of data written.</p></div></div><div class="top"><p class="src"><a id="v:writeAll" class="def">writeAll</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.FileSystem.FDIO.html#writeAll" class="link">Source</a> <a href="#v:writeAll" class="selflink">#</a></p><div class="doc"><p>Keep writing in a loop until all data in the buffer has been written.</p></div></div><div class="top"><p class="src"><a id="v:writev" class="def">writev</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="Streamly-Internal-System-IOVec-Type.html#t:IOVec" title="Streamly.Internal.System.IOVec.Type">IOVec</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.16.4.0/Foreign-C-Types.html#t:CInt" title="Foreign.C.Types">CInt</a> <a href="src/Streamly.Internal.FileSystem.FDIO.html#writev" class="link">Source</a> <a href="#v:writev" class="selflink">#</a></p><div class="doc"><p><code>write FD iovec count</code> tries to write data on the given filesystem fd
 (cannot be a socket) from an iovec with specified number of entries.  The
 write will not block the OS thread, it may suspend the Haskell thread until
 write can proceed.  Returns the actual amount of data written.</p></div></div><div class="top"><p class="src"><a id="v:writevAll" class="def">writevAll</a> :: <a href="../base-4.16.4.0/GHC-IO-FD.html#t:FD" title="GHC.IO.FD">FD</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="Streamly-Internal-System-IOVec-Type.html#t:IOVec" title="Streamly.Internal.System.IOVec.Type">IOVec</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.FileSystem.FDIO.html#writevAll" class="link">Source</a> <a href="#v:writevAll" class="selflink">#</a></p><div class="doc"><p>Keep writing an iovec in a loop until all the iovec entries are written.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>