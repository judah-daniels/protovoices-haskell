<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streamly.Internal.Data.Array.Foreign.Mut</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streamly-0.8.1.1: Dataflow programming and declarative concurrency</span><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.Data.Array.Foreign.Mut.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2020 Composewell Technologies</td></tr><tr><th>License</th><td>BSD-3-Clause</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.Data.Array.Foreign.Mut</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Unboxed pinned mutable array type for <code><a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a></code> types with an option to use
 foreign (non-GHC) memory allocators. Fulfils the following goals:</p><ul><li>Random access (array)</li><li>Efficient storage (unboxed)</li><li>Performance (unboxed access)</li><li>Performance - in-place operations (mutable)</li><li>Performance - GC (pinned, mutable)</li><li>interfacing with OS (pinned)</li><li>Fragmentation control (foreign allocators)</li></ul><p>Stream and Fold APIs allow easy, efficient and convenient operations on
 arrays.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short">module <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html">Streamly.Internal.Data.Array.Foreign.Mut.Type</a></li><li class="src short"><a href="#v:splitOn">splitOn</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; (a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a)</li><li class="src short"><a href="#v:genSlicesFromLen">genSlicesFromLen</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a) (<a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li class="src short"><a href="#v:getSlicesFromLen">getSlicesFromLen</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a) (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html">Streamly.Internal.Data.Array.Foreign.Mut.Type</a></p></div><div class="top"><p class="src"><a id="v:splitOn" class="def">splitOn</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; (a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.Mut.html#splitOn" class="link">Source</a> <a href="#v:splitOn" class="selflink">#</a></p><div class="doc"><p>Split the array into a stream of slices using a predicate. The element
 matching the predicate is dropped.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:genSlicesFromLen" class="def">genSlicesFromLen</a> <a href="src/Streamly.Internal.Data.Array.Foreign.Mut.html#genSlicesFromLen" class="link">Source</a> <a href="#v:genSlicesFromLen" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>from index</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>length of the slice</p></td></tr><tr><td class="src">-&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a) (<a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Generate a stream of array slice descriptors ((index, len)) of specified
 length from an array, starting from the supplied array index. The last slice
 may be shorter than the requested length depending on the array length.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:getSlicesFromLen" class="def">getSlicesFromLen</a> <a href="src/Streamly.Internal.Data.Array.Foreign.Mut.html#getSlicesFromLen" class="link">Source</a> <a href="#v:getSlicesFromLen" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>from index</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>length of the slice</p></td></tr><tr><td class="src">-&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a) (<a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Generate a stream of slices of specified length from an array, starting
 from the supplied array index. The last slice may be shorter than the
 requested length depending on the array length.</p><p><em>Pre-release</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>