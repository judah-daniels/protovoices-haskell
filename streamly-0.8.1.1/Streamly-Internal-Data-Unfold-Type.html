<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streamly.Internal.Data.Unfold.Type</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streamly-0.8.1.1: Dataflow programming and declarative concurrency</span><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.Data.Unfold.Type.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2019 Composewell Technologies</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.Data.Unfold.Type</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Basic Constructors</a></li><li><a href="#g:2">From Values</a></li><li><a href="#g:3">Transformations</a></li><li><a href="#g:4">Trimming</a></li><li><a href="#g:5">Nesting</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>To run the examples in this module:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Streamly.Prelude as Stream
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Streamly.Data.Fold as Fold
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Streamly.Internal.Data.Unfold as Unfold
</code></strong></pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Unfold">Unfold</a> m a b = <span class="keyword">forall</span> s. <a href="#v:Unfold">Unfold</a> (s -&gt; m (<a href="Streamly-Internal-Data-Stream-StreamD-Step.html#t:Step" title="Streamly.Internal.Data.Stream.StreamD.Step">Step</a> s b)) (a -&gt; m s)</li><li class="src short"><a href="#v:mkUnfoldM">mkUnfoldM</a> :: (s -&gt; m (<a href="Streamly-Internal-Data-Stream-StreamD-Step.html#t:Step" title="Streamly.Internal.Data.Stream.StreamD.Step">Step</a> s b)) -&gt; (a -&gt; m s) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:mkUnfoldrM">mkUnfoldrM</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; m (<a href="Streamly-Internal-Data-Stream-StreamD-Step.html#t:Step" title="Streamly.Internal.Data.Stream.StreamD.Step">Step</a> a b)) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:unfoldrM">unfoldrM</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (b, a))) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:unfoldr">unfoldr</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (b, a)) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:functionM">functionM</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; m b) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:function">function</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; b) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:identity">identity</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a a</li><li class="src short"><a href="#v:fromEffect">fromEffect</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; m b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:fromPure">fromPure</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:lmap">lmap</a> :: (a -&gt; c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:lmapM">lmapM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:map">map</a> :: <a href="../base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; (b -&gt; c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:supply">supply</a> :: a -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m <a href="../base-4.16.4.0/Data-Void.html#t:Void" title="Data.Void">Void</a> b</li><li class="src short"><a href="#v:supplyFirst">supplyFirst</a> :: a -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (a, b) c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m b c</li><li class="src short"><a href="#v:supplySecond">supplySecond</a> :: b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (a, b) c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:takeWhileMWithInput">takeWhileMWithInput</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; b -&gt; m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:takeWhileM">takeWhileM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:takeWhile">takeWhile</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><span class="keyword">data</span> <a href="#t:ConcatState">ConcatState</a> s1 s2<ul class="subs"><li>= <a href="#v:ConcatOuter">ConcatOuter</a> s1</li><li>| <a href="#v:ConcatInner">ConcatInner</a> s1 s2</li></ul></li><li class="src short"><a href="#v:many">many</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m b c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:manyInterleave">manyInterleave</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c a -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c b</li><li class="src short"><a href="#v:apSequence">apSequence</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:apDiscardSnd">apDiscardSnd</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b</li><li class="src short"><a href="#v:crossWithM">crossWithM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; m d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d</li><li class="src short"><a href="#v:crossWith">crossWith</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d</li><li class="src short"><a href="#v:cross">cross</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a (b, c)</li><li class="src short"><a href="#v:apply">apply</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a (b -&gt; c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:concatMapM">concatMapM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; m (<a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c)) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:concatMap">concatMap</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:bind">bind</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; (b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c</li><li class="src short"><a href="#v:zipWithM">zipWithM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; m d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d</li><li class="src short"><a href="#v:zipWith">zipWith</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Unfold" class="def">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#Unfold" class="link">Source</a> <a href="#t:Unfold" class="selflink">#</a></p><div class="doc"><p>An <code>Unfold m a b</code> is a generator of a stream of values of type <code>b</code> from a
 seed of type <code>a</code> in <code><a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> <code>m</code>.</p><p><em>Since: 0.7.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> s. <a id="v:Unfold" class="def">Unfold</a> (s -&gt; m (<a href="Streamly-Internal-Data-Stream-StreamD-Step.html#t:Step" title="Streamly.Internal.Data.Stream.StreamD.Step">Step</a> s b)) (a -&gt; m s)</td><td class="doc"><pre>Unfold step inject</pre></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Unfold">Instances</h4><details id="i:Unfold" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Unfold:Functor:1"></span> <a href="../base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; <a href="../base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a)</span> <a href="src/Streamly.Internal.Data.Unfold.Type.html#line-303" class="link">Source</a> <a href="#t:Unfold" class="selflink">#</a></td><td class="doc"><p>Maps a function on the output of the unfold (the type <code>b</code>).</p></td></tr><tr><td colspan="2"><details id="i:id:Unfold:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Unfold-Type.html">Streamly.Internal.Data.Unfold.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a0 -&gt; b) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a a0 -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a0 -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a a0 <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:1" id="g:1"><h1>Basic Constructors</h1></a><div class="top"><p class="src"><a id="v:mkUnfoldM" class="def">mkUnfoldM</a> :: (s -&gt; m (<a href="Streamly-Internal-Data-Stream-StreamD-Step.html#t:Step" title="Streamly.Internal.Data.Stream.StreamD.Step">Step</a> s b)) -&gt; (a -&gt; m s) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#mkUnfoldM" class="link">Source</a> <a href="#v:mkUnfoldM" class="selflink">#</a></p><div class="doc"><p>Make an unfold from <code>step</code> and <code>inject</code> functions.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:mkUnfoldrM" class="def">mkUnfoldrM</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; m (<a href="Streamly-Internal-Data-Stream-StreamD-Step.html#t:Step" title="Streamly.Internal.Data.Stream.StreamD.Step">Step</a> a b)) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#mkUnfoldrM" class="link">Source</a> <a href="#v:mkUnfoldrM" class="selflink">#</a></p><div class="doc"><p>Make an unfold from a step function.</p><p>See also: <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:unfoldrM" title="Streamly.Internal.Data.Unfold.Type">unfoldrM</a></code></p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:unfoldrM" class="def">unfoldrM</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (b, a))) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#unfoldrM" class="link">Source</a> <a href="#v:unfoldrM" class="selflink">#</a></p><div class="doc"><p>Build a stream by unfolding a <em>monadic</em> step function starting from a seed.
 The step function returns the next element in the stream and the next seed
 value. When it is done it returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> and the stream ends.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:unfoldr" class="def">unfoldr</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (b, a)) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#unfoldr" class="link">Source</a> <a href="#v:unfoldr" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:unfoldrM" title="Streamly.Internal.Data.Unfold.Type">unfoldrM</a></code> but uses a pure step function.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong> f [] = Nothing
 f (x:xs) = Just (x, xs)
:}
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Unfold.fold Fold.toList (Unfold.unfoldr f) [1,2,3]
</code></strong>[1,2,3]
</pre><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:functionM" class="def">functionM</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; m b) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#functionM" class="link">Source</a> <a href="#v:functionM" class="selflink">#</a></p><div class="doc"><p>Lift a monadic function into an unfold. The unfold generates a singleton
 stream.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:function" class="def">function</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; b) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#function" class="link">Source</a> <a href="#v:function" class="selflink">#</a></p><div class="doc"><p>Lift a pure function into an unfold. The unfold generates a singleton
 stream.</p><pre>function f = functionM $ return . f</pre><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:identity" class="def">identity</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a a <a href="src/Streamly.Internal.Data.Unfold.Type.html#identity" class="link">Source</a> <a href="#v:identity" class="selflink">#</a></p><div class="doc"><p>Identity unfold. The unfold generates a singleton stream having the input
 as the only element.</p><pre>identity = function Prelude.id</pre><p><em>Pre-release</em></p></div></div><a href="#g:2" id="g:2"><h1>From Values</h1></a><div class="top"><p class="src"><a id="v:fromEffect" class="def">fromEffect</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; m b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#fromEffect" class="link">Source</a> <a href="#v:fromEffect" class="selflink">#</a></p><div class="doc"><p>The unfold discards its input and generates a function stream using the
 supplied monadic action.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:fromPure" class="def">fromPure</a> :: <a href="../base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#fromPure" class="link">Source</a> <a href="#v:fromPure" class="selflink">#</a></p><div class="doc"><p>Discards the unfold input and always returns the argument of <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:fromPure" title="Streamly.Internal.Data.Unfold.Type">fromPure</a></code>.</p><pre>fromPure = fromEffect . pure</pre><p><em>Pre-release</em></p></div></div><a href="#g:3" id="g:3"><h1>Transformations</h1></a><div class="top"><p class="src"><a id="v:lmap" class="def">lmap</a> :: (a -&gt; c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#lmap" class="link">Source</a> <a href="#v:lmap" class="selflink">#</a></p><div class="doc"><p>Map a function on the input argument of the <code><a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>u = Unfold.lmap (fmap (+1)) Unfold.fromList
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Unfold.fold Fold.toList u [1..5]
</code></strong>[2,3,4,5,6]
</pre><pre>lmap f = Unfold.many (Unfold.function f)
</pre><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:lmapM" class="def">lmapM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#lmapM" class="link">Source</a> <a href="#v:lmapM" class="selflink">#</a></p><div class="doc"><p>Map an action on the input argument of the <code><a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a></code>.</p><pre>lmapM f = Unfold.many (Unfold.functionM f)
</pre><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:map" class="def">map</a> :: <a href="../base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; (b -&gt; c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <a href="src/Streamly.Internal.Data.Unfold.Type.html#map" class="link">Source</a> <a href="#v:map" class="selflink">#</a></p><div class="doc"><p>Map a function on the output of the unfold (the type <code>b</code>).</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:supply" class="def">supply</a> :: a -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m <a href="../base-4.16.4.0/Data-Void.html#t:Void" title="Data.Void">Void</a> b <a href="src/Streamly.Internal.Data.Unfold.Type.html#supply" class="link">Source</a> <a href="#v:supply" class="selflink">#</a></p><div class="doc"><p>Supply the seed to an unfold closing the input end of the unfold.</p><pre>supply a = Unfold.lmap (Prelude.const a)
</pre><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:supplyFirst" class="def">supplyFirst</a> :: a -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (a, b) c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m b c <a href="src/Streamly.Internal.Data.Unfold.Type.html#supplyFirst" class="link">Source</a> <a href="#v:supplyFirst" class="selflink">#</a></p><div class="doc"><p>Supply the first component of the tuple to an unfold that accepts a tuple
 as a seed resulting in a fold that accepts the second component of the tuple
 as a seed.</p><pre>supplyFirst a = Unfold.lmap (a, )
</pre><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:supplySecond" class="def">supplySecond</a> :: b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (a, b) c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <a href="src/Streamly.Internal.Data.Unfold.Type.html#supplySecond" class="link">Source</a> <a href="#v:supplySecond" class="selflink">#</a></p><div class="doc"><p>Supply the second component of the tuple to an unfold that accepts a tuple
 as a seed resulting in a fold that accepts the first component of the tuple
 as a seed.</p><pre>supplySecond b = Unfold.lmap (, b)
</pre><p><em>Pre-release</em></p></div></div><a href="#g:4" id="g:4"><h1>Trimming</h1></a><div class="top"><p class="src"><a id="v:takeWhileMWithInput" class="def">takeWhileMWithInput</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; b -&gt; m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#takeWhileMWithInput" class="link">Source</a> <a href="#v:takeWhileMWithInput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:takeWhileM" class="def">takeWhileM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#takeWhileM" class="link">Source</a> <a href="#v:takeWhileM" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:takeWhile" title="Streamly.Internal.Data.Unfold.Type">takeWhile</a></code> but with a monadic predicate.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:takeWhile" class="def">takeWhile</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#takeWhile" class="link">Source</a> <a href="#v:takeWhile" class="selflink">#</a></p><div class="doc"><p>End the stream generated by the <code><a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a></code> as soon as the predicate fails
 on an element.</p><p><em>Since: 0.8.0</em></p></div></div><a href="#g:5" id="g:5"><h1>Nesting</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConcatState" class="def">ConcatState</a> s1 s2 <a href="src/Streamly.Internal.Data.Unfold.Type.html#ConcatState" class="link">Source</a> <a href="#t:ConcatState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConcatOuter" class="def">ConcatOuter</a> s1</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ConcatInner" class="def">ConcatInner</a> s1 s2</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:many" class="def">many</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m b c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <a href="src/Streamly.Internal.Data.Unfold.Type.html#many" class="link">Source</a> <a href="#v:many" class="selflink">#</a></p><div class="doc"><p>Apply the second unfold to each output element of the first unfold and
 flatten the output in a single stream.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:manyInterleave" class="def">manyInterleave</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c a -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m c b <a href="src/Streamly.Internal.Data.Unfold.Type.html#manyInterleave" class="link">Source</a> <a href="#v:manyInterleave" class="selflink">#</a></p><div class="doc"><p><code><a href="Streamly-Internal-Data-Stream-IsStream.html#v:unfoldManyInterleave" title="Streamly.Internal.Data.Stream.IsStream">unfoldManyInterleave</a></code> for
 documentation and notes.</p><p>This is almost identical to unfoldManyInterleave in StreamD module.</p><p>The <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:many" title="Streamly.Internal.Data.Unfold.Type">many</a></code> combinator is in fact <code>manyAppend</code> to be more explicit in naming.</p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:apSequence" class="def">apSequence</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <a href="src/Streamly.Internal.Data.Unfold.Type.html#apSequence" class="link">Source</a> <a href="#v:apSequence" class="selflink">#</a></p><div class="doc"><p>Outer product discarding the first element.</p><p><em>Unimplemented</em></p></div></div><div class="top"><p class="src"><a id="v:apDiscardSnd" class="def">apDiscardSnd</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b <a href="src/Streamly.Internal.Data.Unfold.Type.html#apDiscardSnd" class="link">Source</a> <a href="#v:apDiscardSnd" class="selflink">#</a></p><div class="doc"><p>Outer product discarding the second element.</p><p><em>Unimplemented</em></p></div></div><div class="top"><p class="src"><a id="v:crossWithM" class="def">crossWithM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; m d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d <a href="src/Streamly.Internal.Data.Unfold.Type.html#crossWithM" class="link">Source</a> <a href="#v:crossWithM" class="selflink">#</a></p><div class="doc"><p>Create a cross product (vector product or cartesian product) of the
 output streams of two unfolds using a monadic combining function.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:crossWith" class="def">crossWith</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d <a href="src/Streamly.Internal.Data.Unfold.Type.html#crossWith" class="link">Source</a> <a href="#v:crossWith" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:crossWithM" title="Streamly.Internal.Data.Unfold.Type">crossWithM</a></code> but uses a pure combining function.</p><pre>crossWith f = crossWithM (\b c -&gt; return $ f b c)</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>u1 = Unfold.lmap fst Unfold.fromList
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>u2 = Unfold.lmap snd Unfold.fromList
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>u = Unfold.crossWith (,) u1 u2
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Unfold.fold Fold.toList u ([1,2,3], [4,5,6])
</code></strong>[(1,4),(1,5),(1,6),(2,4),(2,5),(2,6),(3,4),(3,5),(3,6)]
</pre><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:cross" class="def">cross</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a (b, c) <a href="src/Streamly.Internal.Data.Unfold.Type.html#cross" class="link">Source</a> <a href="#v:cross" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:crossWith" title="Streamly.Internal.Data.Unfold.Type">crossWith</a></code>.</p><pre>cross = crossWith (,)</pre><p>To cross the streams from a tuple we can write:</p><pre>crossProduct :: Monad m =&gt; Unfold m a b -&gt; Unfold m c d -&gt; Unfold m (a, c) (b, d)
crossProduct u1 u2 = cross (lmap fst u1) (lmap snd u2)
</pre><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:apply" class="def">apply</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a (b -&gt; c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <a href="src/Streamly.Internal.Data.Unfold.Type.html#apply" class="link">Source</a> <a href="#v:apply" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:concatMapM" class="def">concatMapM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; m (<a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c)) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <a href="src/Streamly.Internal.Data.Unfold.Type.html#concatMapM" class="link">Source</a> <a href="#v:concatMapM" class="selflink">#</a></p><div class="doc"><p>Map an unfold generating action to each element of an unfold and
 flatten the results into a single stream.</p></div></div><div class="top"><p class="src"><a id="v:concatMap" class="def">concatMap</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <a href="src/Streamly.Internal.Data.Unfold.Type.html#concatMap" class="link">Source</a> <a href="#v:concatMap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bind" class="def">bind</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; (b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c <span class="fixity">infixl 1</span><span class="rightedge"></span> <a href="src/Streamly.Internal.Data.Unfold.Type.html#bind" class="link">Source</a> <a href="#v:bind" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:zipWithM" class="def">zipWithM</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; m d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d <a href="src/Streamly.Internal.Data.Unfold.Type.html#zipWithM" class="link">Source</a> <a href="#v:zipWithM" class="selflink">#</a></p><div class="doc"><p>Distribute the input to two unfolds and then zip the outputs to a single
 stream using a monadic zip function.</p><p>Stops as soon as any of the unfolds stops.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:zipWith" class="def">zipWith</a> :: <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (b -&gt; c -&gt; d) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a b -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a c -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m a d <a href="src/Streamly.Internal.Data.Unfold.Type.html#zipWith" class="link">Source</a> <a href="#v:zipWith" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streamly-Internal-Data-Unfold-Type.html#v:zipWithM" title="Streamly.Internal.Data.Unfold.Type">zipWithM</a></code> but with a pure zip function.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>square = fmap (\x -&gt; x * x) Unfold.fromList
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>cube = fmap (\x -&gt; x * x * x) Unfold.fromList
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>u = Unfold.zipWith (,) square cube
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Unfold.fold Fold.toList u [1..5]
</code></strong>[(1,1),(4,8),(9,27),(16,64),(25,125)]
</pre><pre>zipWith f = zipWithM (\a b -&gt; return $ f a b)</pre><p><em>Since: 0.8.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>