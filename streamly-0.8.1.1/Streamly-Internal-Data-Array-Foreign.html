<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streamly.Internal.Data.Array.Foreign</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streamly-0.8.1.1: Dataflow programming and declarative concurrency</span><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.Data.Array.Foreign.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2019 Composewell Technologies</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.Data.Array.Foreign</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Construction</a></li><li><a href="#g:2">Elimination</a></li><li><a href="#g:3">Random Access</a></li><li><a href="#g:4">Size</a></li><li><a href="#g:5">Search</a></li><li><a href="#g:6">Casting</a></li><li><a href="#g:7">Subarrays</a></li><li><a href="#g:8">Streaming Operations</a><ul><li><a href="#g:9">Folding</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>To summarize:</p><ul><li>Arrays are finite and fixed in size</li><li>provide <em>O(1)</em> access to elements</li><li>store only data and not functions</li><li>provide efficient IO interfacing</li></ul><p><code><a href="../base-4.16.4.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a></code> instance is not provided because the implementation would be much
 less efficient compared to folding via streams.  <code><a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a></code> and <code><a href="../base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code>
 instances should be used with care; concatenating arrays using binary
 operations can be highly inefficient.  Instead, use
 <code><a href="Streamly-Internal-Data-Array-Stream-Foreign.html#v:toArray" title="Streamly.Internal.Data.Array.Stream.Foreign">toArray</a></code> to concatenate N
 arrays at once.</p><p>Each array is one pointer visible to the GC.  Too many small arrays (e.g.
 single byte) are only as good as holding those elements in a Haskell list.
 However, small arrays can be compacted into large ones to reduce the
 overhead. To hold 32GB memory in 32k sized buffers we need 1 million arrays
 if we use one array for each chunk. This is still significant to add
 pressure to GC.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Array">Array</a> a</li><li class="src short"><a href="#v:fromPtr">fromPtr</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:fromAddr-35-">fromAddr#</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a> -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:fromCString-35-">fromCString#</a> :: <a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a> -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:fromListN">fromListN</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [a] -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:fromList">fromList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; [a] -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:fromStreamN">fromStreamN</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:fromStream">fromStream</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:writeN">writeN</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:writeNAligned">writeNAligned</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:write">write</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:writeLastN">writeLastN</a> :: (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; [a]</li><li class="src short"><a href="#v:toStream">toStream</a> :: (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a</li><li class="src short"><a href="#v:toStreamRev">toStreamRev</a> :: (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a</li><li class="src short"><a href="#v:read">read</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:unsafeRead">unsafeRead</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:readRev">readRev</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:producer">producer</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Producer-Type.html#t:Producer" title="Streamly.Internal.Data.Producer.Type">Producer</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:getIndex">getIndex</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</li><li class="src short"><a href="#v:unsafeIndex">unsafeIndex</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:getIndexRev">getIndexRev</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</li><li class="src short"><a href="#v:last">last</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</li><li class="src short"><a href="#v:getIndices">getIndices</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:getIndicesFromThenTo">getIndicesFromThenTo</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:length">length</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:null">null</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:binarySearch">binarySearch</a> :: a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:findIndicesOf">findIndicesOf</a> :: (a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> <a href="../base-4.16.4.0/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:cast">cast</a> :: <span class="keyword">forall</span> a b. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> b =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> b)</li><li class="src short"><a href="#v:asBytes">asBytes</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:unsafeCast">unsafeCast</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> b</li><li class="src short"><a href="#v:unsafeAsPtr">unsafeAsPtr</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; (<a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> b -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> c) -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> c</li><li class="src short"><a href="#v:unsafeAsCString">unsafeAsCString</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; (<a href="../base-4.16.4.0/Foreign-C-String.html#t:CString" title="Foreign.C.String">CString</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b</li><li class="src short"><a href="#v:unsafeFreeze">unsafeFreeze</a> :: <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:unsafeThaw">unsafeThaw</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a</li><li class="src short"><a href="#v:getSliceUnsafe">getSliceUnsafe</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:genSlicesFromLen">genSlicesFromLen</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) (<a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li class="src short"><a href="#v:getSlicesFromLen">getSlicesFromLen</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:splitOn">splitOn</a> :: (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; (a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:streamTransform">streamTransform</a> :: <span class="keyword">forall</span> m a b. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> b) =&gt; (<a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m b) -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> b)</li><li class="src short"><a href="#v:streamFold">streamFold</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; (<a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; m b) -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; m b</li><li class="src short"><a href="#v:fold">fold</a> :: <span class="keyword">forall</span> m a b. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a b -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; m b</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Array" class="def">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#Array" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Array">Instances</h4><details id="i:Array" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:IsString:1"></span> a ~ <a href="../base-4.16.4.0/Data-Char.html#t:Char" title="Data.Char">Char</a> =&gt; <a href="../base-4.16.4.0/Data-String.html#t:IsString" title="Data.String">IsString</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-683" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:IsString:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromString">fromString</a> :: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:fromString" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Monoid:2"></span> <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-786" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a] -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Semigroup:3"></span> <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-776" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Semigroup:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.16.4.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:IsList:4"></span> <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/GHC-Exts.html#t:IsList" title="GHC.Exts">IsList</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-688" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:IsList:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="#t:Item" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromList">fromList</a> :: [<a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)] -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:fromList" class="selflink">#</a></p><p class="src"><a href="#v:fromListN">fromListN</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [<a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)] -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:fromListN" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; [<a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)] <a href="#v:toList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Read:5"></span> (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> a, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a) =&gt; <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-678" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Read:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="../base-4.16.4.0/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> [<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a] <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="../base-4.16.4.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="../base-4.16.4.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> [<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a] <a href="#v:readListPrec" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Show:6"></span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-674" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Show:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:NFData:7"></span> <a href="../deepseq-1.4.6.1/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-705" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:NFData:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Eq:8"></span> (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a) =&gt; <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-699" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Eq:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Ord:9"></span> (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-709" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Ord:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Item:10"></span> <span class="keyword">type</span> <a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-689" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Item:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="src"><span class="keyword">type</span> <a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) = a</div></details></td></tr></table></details></div></div><a href="#g:1" id="g:1"><h1>Construction</h1></a><div class="top"><p class="src"><a id="v:fromPtr" class="def">fromPtr</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#fromPtr" class="link">Source</a> <a href="#v:fromPtr" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> of the given number of elements of type <code>a</code> from a read
 only pointer <code>Ptr a</code>.  The pointer is not freed when the array is garbage
 collected. This API is unsafe for the following reasons:</p><ol><li>The pointer must point to static pinned memory or foreign memory that
 does not require freeing..</li><li>The pointer must be legally accessible upto the given length.</li><li>To guarantee that the array is immutable, the contents of the address
 must be guaranteed to not change.</li></ol><p><em>Unsafe</em></p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:fromAddr-35-" class="def">fromAddr#</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a> -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#fromAddr%23" class="link">Source</a> <a href="#v:fromAddr-35-" class="selflink">#</a></p><div class="doc"><p>Create an <code>Array Word8</code> of the given length from a static, read only
 machine address <code><a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a></code>. See <code><a href="Streamly-Internal-Data-Array-Foreign.html#v:fromPtr" title="Streamly.Internal.Data.Array.Foreign">fromPtr</a></code> for safety caveats.</p><p>A common use case for this API is to create an array from a static unboxed
 string literal. GHC string literals are of type <code><a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a></code>, and must contain
 characters that can be encoded in a byte i.e. characters or literal bytes in
 the range from 0-255.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Data.Word (Word8)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Array.fromAddr# 5 &quot;hello world!&quot;# :: Array Word8
</code></strong>[104,101,108,108,111]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Array.fromAddr# 3 &quot;\255\NUL\255&quot;# :: Array Word8
</code></strong>[255,0,255]
</pre><p><em>See also: <code>fromString#</code></em></p><p><em>Unsafe</em></p><p><em>Time complexity: O(1)</em></p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:fromCString-35-" class="def">fromCString#</a> :: <a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a> -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#fromCString%23" class="link">Source</a> <a href="#v:fromCString-35-" class="selflink">#</a></p><div class="doc"><p>Generate a byte array from an <code><a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a></code> that contains a sequence of NUL
 (<code>0</code>) terminated bytes. The array would not include the NUL byte. The
 address must be in static read-only memory and must be legally accessible up
 to and including the first NUL byte.</p><p>An unboxed string literal (e.g. <code>&quot;hello&quot;#</code>) is a common example of an
 <code><a href="../base-4.16.4.0/GHC-Exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a></code> in static read only memory. It represents the UTF8 encoded sequence
 of bytes terminated by a NUL byte (a <code><a href="../base-4.16.4.0/Foreign-C-String.html#t:CString" title="Foreign.C.String">CString</a></code>) corresponding to the
 given unicode string.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Array.fromCString# &quot;hello world!&quot;#
</code></strong>[104,101,108,108,111,32,119,111,114,108,100,33]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Array.fromCString# &quot;\255\NUL\255&quot;#
</code></strong>[255]
</pre><p><em>See also: <code><a href="Streamly-Internal-Data-Array-Foreign.html#v:fromAddr-35-" title="Streamly.Internal.Data.Array.Foreign">fromAddr#</a></code></em></p><p><em>Unsafe</em></p><p><em>Time complexity: O(n) (computes the length of the string)</em></p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:fromListN" class="def">fromListN</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [a] -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#fromListN" class="link">Source</a> <a href="#v:fromListN" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> from the first N elements of a list. The array is
 allocated to size N, if the list terminates before N elements then the
 array may hold less than N elements.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:fromList" class="def">fromList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; [a] -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#fromList" class="link">Source</a> <a href="#v:fromList" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> from a list. The list must be of finite size.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:fromStreamN" class="def">fromStreamN</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.html#fromStreamN" class="link">Source</a> <a href="#v:fromStreamN" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> from the first N elements of a stream. The array is
 allocated to size N, if the stream terminates before N elements then the
 array may hold less than N elements.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:fromStream" class="def">fromStream</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.html#fromStream" class="link">Source</a> <a href="#v:fromStream" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> from a stream. This is useful when we want to create a
 single array from a stream of unknown size. <code>writeN</code> is at least twice
 as efficient when the size is already known.</p><p>Note that if the input stream is too large memory allocation for the array
 may fail.  When the stream size is not known, <code>arraysOf</code> followed by
 processing of indvidual arrays in the resulting stream should be preferred.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:writeN" class="def">writeN</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#writeN" class="link">Source</a> <a href="#v:writeN" class="selflink">#</a></p><div class="doc"><p><code>writeN n</code> folds a maximum of <code>n</code> elements from the input stream to an
 <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code>.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:writeNAligned" class="def">writeNAligned</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#writeNAligned" class="link">Source</a> <a href="#v:writeNAligned" class="selflink">#</a></p><div class="doc"><p><code>writeNAligned alignment n</code> folds a maximum of <code>n</code> elements from the input
 stream to an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> aligned to the given size.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:write" class="def">write</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#write" class="link">Source</a> <a href="#v:write" class="selflink">#</a></p><div class="doc"><p>Fold the whole input to a single array.</p><p><em>Caution! Do not use this on infinite streams.</em></p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:writeLastN" class="def">writeLastN</a> :: (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.html#writeLastN" class="link">Source</a> <a href="#v:writeLastN" class="selflink">#</a></p><div class="doc"><p><code>writeLastN n</code> folds a maximum of <code>n</code> elements from the end of the input
 stream to an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code>.</p><p><em>Since: 0.8.0</em></p></div></div><a href="#g:2" id="g:2"><h1>Elimination</h1></a><div class="top"><p class="src"><a id="v:toList" class="def">toList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; [a] <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#toList" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><div class="doc"><p>Convert an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> into a list.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:toStream" class="def">toStream</a> :: (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#toStream" class="link">Source</a> <a href="#v:toStream" class="selflink">#</a></p><div class="doc"><p>Convert an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> into a stream.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:toStreamRev" class="def">toStreamRev</a> :: (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#toStreamRev" class="link">Source</a> <a href="#v:toStreamRev" class="selflink">#</a></p><div class="doc"><p>Convert an <code><a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a></code> into a stream in reverse order.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:read" class="def">read</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.html#read" class="link">Source</a> <a href="#v:read" class="selflink">#</a></p><div class="doc"><p>Unfold an array into a stream.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeRead" class="def">unsafeRead</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.html#unsafeRead" class="link">Source</a> <a href="#v:unsafeRead" class="selflink">#</a></p><div class="doc"><p>Unfold an array into a stream, does not check the end of the array, the
 user is responsible for terminating the stream within the array bounds. For
 high performance application where the end condition can be determined by
 a terminating fold.</p><p>Written in the hope that it may be faster than &quot;read&quot;, however, in the case
 for which this was written, &quot;read&quot; proves to be faster even though the core
 generated with unsafeRead looks simpler.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:readRev" class="def">readRev</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#readRev" class="link">Source</a> <a href="#v:readRev" class="selflink">#</a></p><div class="doc"><p>Unfold an array into a stream in reverse order.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:producer" class="def">producer</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Producer-Type.html#t:Producer" title="Streamly.Internal.Data.Producer.Type">Producer</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.html#producer" class="link">Source</a> <a href="#v:producer" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Random Access</h1></a><div class="top"><p class="src"><a id="v:getIndex" class="def">getIndex</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.html#getIndex" class="link">Source</a> <a href="#v:getIndex" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Lookup the element at the given index. Index starts from 0.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeIndex" class="def">unsafeIndex</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#unsafeIndex" class="link">Source</a> <a href="#v:unsafeIndex" class="selflink">#</a></p><div class="doc"><p>Return element at the specified index without checking the bounds.</p></div></div><div class="top"><p class="src"><a id="v:getIndexRev" class="def">getIndexRev</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.html#getIndexRev" class="link">Source</a> <a href="#v:getIndexRev" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streamly-Internal-Data-Array-Foreign.html#v:getIndex" title="Streamly.Internal.Data.Array.Foreign">getIndex</a></code> but indexes the array in reverse from the end.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:last" class="def">last</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.html#last" class="link">Source</a> <a href="#v:last" class="selflink">#</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Streamly.Internal.Data.Array.Foreign as Array
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>last arr = Array.getIndexRev arr 0
</code></strong></pre><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:getIndices" class="def">getIndices</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.html#getIndices" class="link">Source</a> <a href="#v:getIndices" class="selflink">#</a></p><div class="doc"><p>Given a stream of array indices, read the elements on those indices from
 the supplied Array. An exception is thrown if an index is out of bounds.</p><p>This is the most general operation. We can implement other operations in
 terms of this:</p><pre>read =
     let u = lmap (arr -&gt; (0, length arr - 1)) Unfold.enumerateFromTo
      in Unfold.lmap f (getIndices arr)

readRev =
     let i = length arr - 1
      in Unfold.lmap f (getIndicesFromThenTo i (i - 1) 0)
</pre><p><em>Unimplemented</em></p></div></div><div class="top"><p class="src"><a id="v:getIndicesFromThenTo" class="def">getIndicesFromThenTo</a> :: <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.html#getIndicesFromThenTo" class="link">Source</a> <a href="#v:getIndicesFromThenTo" class="selflink">#</a></p><div class="doc"><p>Unfolds <code>(from, then, to, array)</code> generating a finite stream whose first
 element is the array value from the index <code>from</code> and the successive elements
 are from the indices in increments of <code>then</code> up to <code>to</code>. Index enumeration
 can occur downwards or upwards depending on whether <code>then</code> comes before or
 after <code>from</code>.</p><pre>getIndicesFromThenTo =
    let f (from, next, to, arr) =
            (Stream.enumerateFromThenTo from next to, arr)
     in Unfold.lmap f getIndices
</pre><p><em>Unimplemented</em></p></div></div><a href="#g:4" id="g:4"><h1>Size</h1></a><div class="top"><p class="src"><a id="v:length" class="def">length</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#length" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Get the length of the array i.e. the number of elements in the
 array.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:null" class="def">null</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Streamly.Internal.Data.Array.Foreign.Type as Array
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>null arr = Array.byteLength arr == 0
</code></strong></pre><p><em>Pre-release</em></p></div></div><a href="#g:5" id="g:5"><h1>Search</h1></a><div class="top"><p class="src"><a id="v:binarySearch" class="def">binarySearch</a> :: a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#binarySearch" class="link">Source</a> <a href="#v:binarySearch" class="selflink">#</a></p><div class="doc"><p>Given a sorted array, perform a binary search to find the given element.
 Returns the index of the element if found.</p><p><em>Unimplemented</em></p></div></div><div class="top"><p class="src"><a id="v:findIndicesOf" class="def">findIndicesOf</a> :: (a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> <a href="../base-4.16.4.0/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#findIndicesOf" class="link">Source</a> <a href="#v:findIndicesOf" class="selflink">#</a></p><div class="doc"><p>Perform a linear search to find all the indices where a given element is
 present in an array.</p><p><em>Unimplemented</em></p></div></div><a href="#g:6" id="g:6"><h1>Casting</h1></a><div class="top"><p class="src"><a id="v:cast" class="def">cast</a> :: <span class="keyword">forall</span> a b. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> b =&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> b) <a href="src/Streamly.Internal.Data.Array.Foreign.html#cast" class="link">Source</a> <a href="#v:cast" class="selflink">#</a></p><div class="doc"><p>Cast an array having elements of type <code>a</code> into an array having elements of
 type <code>b</code>. The length of the array should be a multiple of the size of the
 target element otherwise <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is returned.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:asBytes" class="def">asBytes</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#asBytes" class="link">Source</a> <a href="#v:asBytes" class="selflink">#</a></p><div class="doc"><p>Cast an <code>Array a</code> into an <code>Array Word8</code>.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeCast" class="def">unsafeCast</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> b <a href="src/Streamly.Internal.Data.Array.Foreign.html#unsafeCast" class="link">Source</a> <a href="#v:unsafeCast" class="selflink">#</a></p><div class="doc"><p>Cast an array having elements of type <code>a</code> into an array having elements of
 type <code>b</code>. The array size must be a multiple of the size of type <code>b</code>
 otherwise accessing the last element of the array may result into a crash or
 a random value.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeAsPtr" class="def">unsafeAsPtr</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; (<a href="../base-4.16.4.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> b -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> c) -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> c <a href="src/Streamly.Internal.Data.Array.Foreign.html#unsafeAsPtr" class="link">Source</a> <a href="#v:unsafeAsPtr" class="selflink">#</a></p><div class="doc"><p>Use an <code>Array a</code> as <code>Ptr b</code>.</p><p><em>Unsafe</em></p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeAsCString" class="def">unsafeAsCString</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; (<a href="../base-4.16.4.0/Foreign-C-String.html#t:CString" title="Foreign.C.String">CString</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b <a href="src/Streamly.Internal.Data.Array.Foreign.html#unsafeAsCString" class="link">Source</a> <a href="#v:unsafeAsCString" class="selflink">#</a></p><div class="doc"><p>Convert an array of any type into a null terminated CString Ptr.</p><p><em>Unsafe</em></p><p><em>O(n) Time: (creates a copy of the array)</em></p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeFreeze" class="def">unsafeFreeze</a> :: <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#unsafeFreeze" class="link">Source</a> <a href="#v:unsafeFreeze" class="selflink">#</a></p><div class="doc"><p>Makes an immutable array using the underlying memory of the mutable
 array.</p><p>Please make sure that there are no other references to the mutable array
 lying around, so that it is never used after freezing it using
 <em>unsafeFreeze</em>.  If the underlying array is mutated, the immutable promise
 is lost.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeThaw" class="def">unsafeThaw</a> :: <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Array-Foreign-Mut-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Mut.Type">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#unsafeThaw" class="link">Source</a> <a href="#v:unsafeThaw" class="selflink">#</a></p><div class="doc"><p>Makes a mutable array using the underlying memory of the immutable array.</p><p>Please make sure that there are no other references to the immutable array
 lying around, so that it is never used after thawing it using <em>unsafeThaw</em>.
 If the resulting array is mutated, any references to the older immutable
 array are mutated as well.</p><p><em>Pre-release</em></p></div></div><a href="#g:7" id="g:7"><h1>Subarrays</h1></a><div class="top"><p class="src"><a id="v:getSliceUnsafe" class="def">getSliceUnsafe</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#getSliceUnsafe" class="link">Source</a> <a href="#v:getSliceUnsafe" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>starting index</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>length of the slice</p></td></tr><tr><td class="src">-&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><em>O(1)</em> Slice an array in constant time.</p><p>Caution: The bounds of the slice are not checked.</p><p><em>Unsafe</em></p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:genSlicesFromLen" class="def">genSlicesFromLen</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#genSlicesFromLen" class="link">Source</a> <a href="#v:genSlicesFromLen" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>from index</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>length of the slice</p></td></tr><tr><td class="src">-&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) (<a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:getSlicesFromLen" class="def">getSlicesFromLen</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#getSlicesFromLen" class="link">Source</a> <a href="#v:getSlicesFromLen" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>from index</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>length of the slice</p></td></tr><tr><td class="src">-&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Generate a stream of slices of specified length from an array, starting
 from the supplied array index. The last slice may be shorter than the
 requested length.</p><p><em>Pre-release</em>/</p></div></div><div class="top"><p class="src"><a id="v:splitOn" class="def">splitOn</a> :: (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; (a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.html#splitOn" class="link">Source</a> <a href="#v:splitOn" class="selflink">#</a></p><div class="doc"><p>Split the array into a stream of slices using a predicate. The element
 matching the predicate is dropped.</p><p><em>Pre-release</em></p></div></div><a href="#g:8" id="g:8"><h1>Streaming Operations</h1></a><div class="top"><p class="src"><a id="v:streamTransform" class="def">streamTransform</a> :: <span class="keyword">forall</span> m a b. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> b) =&gt; (<a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m b) -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; m (<a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> b) <a href="src/Streamly.Internal.Data.Array.Foreign.html#streamTransform" class="link">Source</a> <a href="#v:streamTransform" class="selflink">#</a></p><div class="doc"><p>Transform an array into another array using a stream transformation
 operation.</p><p><em>Pre-release</em></p></div></div><a href="#g:9" id="g:9"><h2>Folding</h2></a><div class="top"><p class="src"><a id="v:streamFold" class="def">streamFold</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; (<a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m a -&gt; m b) -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; m b <a href="src/Streamly.Internal.Data.Array.Foreign.html#streamFold" class="link">Source</a> <a href="#v:streamFold" class="selflink">#</a></p><div class="doc"><p>Fold an array using a stream fold operation.</p><p><em>Pre-release</em></p></div></div><div class="top"><p class="src"><a id="v:fold" class="def">fold</a> :: <span class="keyword">forall</span> m a b. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a b -&gt; <a href="Streamly-Internal-Data-Array-Foreign.html#t:Array" title="Streamly.Internal.Data.Array.Foreign">Array</a> a -&gt; m b <a href="src/Streamly.Internal.Data.Array.Foreign.html#fold" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><div class="doc"><p>Fold an array using a <code><a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a></code>.</p><p><em>Pre-release</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>