<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streamly.Data.Array.Foreign</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streamly-0.8.1.1: Dataflow programming and declarative concurrency</span><ul class="links" id="page-menu"><li><a href="src/Streamly.Data.Array.Foreign.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2019 Composewell Technologies</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>released</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Data.Array.Foreign</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Arrays</a><ul><li><a href="#g:2">Construction</a></li><li><a href="#g:3">Elimination</a></li><li><a href="#g:4">Casting</a></li><li><a href="#g:5">Random Access</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides immutable arrays in pinned memory (non GC memory)
 suitable for long lived data storage, random access and for interfacing with
 the operating system.</p><p>Arrays in this module are chunks of pinned memory that hold a sequence of
 <code>Storable</code> values of a given type, they cannot store non-serializable data
 like functions.  Once created an array cannot be modified.  Pinned memory
 allows efficient buffering of long lived data without adding any impact to
 GC. One array is just one pointer visible to GC and it does not have to be
 copied across generations.  Moreover, pinned memory allows communication
 with foreign consumers and producers (e.g. file or network IO) without
 copying the data.</p><h1>Programmer Notes</h1><p>To apply a transformation to an array use <code><a href="Streamly-Data-Array-Foreign.html#v:read" title="Streamly.Data.Array.Foreign">read</a></code> to unfold the array into a
 stream, apply a transformation on the stream and then use <code><a href="Streamly-Data-Array-Foreign.html#v:write" title="Streamly.Data.Array.Foreign">write</a></code> to fold it
 back to an array.</p><p>This module is designed to be imported qualified:</p><pre>import qualified Streamly.Data.Array.Foreign as Array</pre><p>For experimental APIs see <a href="Streamly-Internal-Data-Array-Foreign.html">Streamly.Internal.Data.Array.Foreign</a>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Array">Array</a> a</li><li class="src short"><a href="#v:fromListN">fromListN</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [a] -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:fromList">fromList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; [a] -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a</li><li class="src short"><a href="#v:writeN">writeN</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:write">write</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:writeLastN">writeLastN</a> :: (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; [a]</li><li class="src short"><a href="#v:read">read</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:readRev">readRev</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) a</li><li class="src short"><a href="#v:cast">cast</a> :: <span class="keyword">forall</span> a b. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> b =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> b)</li><li class="src short"><a href="#v:asBytes">asBytes</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:length">length</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:getIndex">getIndex</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Array" class="def">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#Array" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Array">Instances</h4><details id="i:Array" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:IsString:1"></span> a ~ <a href="../base-4.16.4.0/Data-Char.html#t:Char" title="Data.Char">Char</a> =&gt; <a href="../base-4.16.4.0/Data-String.html#t:IsString" title="Data.String">IsString</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-683" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:IsString:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromString">fromString</a> :: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:fromString" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Monoid:2"></span> <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-786" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a] -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Semigroup:3"></span> <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-776" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Semigroup:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.16.4.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:IsList:4"></span> <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/GHC-Exts.html#t:IsList" title="GHC.Exts">IsList</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-688" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:IsList:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) <a href="#t:Item" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromList">fromList</a> :: [<a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)] -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:fromList" class="selflink">#</a></p><p class="src"><a href="#v:fromListN">fromListN</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [<a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)] -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:fromListN" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; [<a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)] <a href="#v:toList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Read:5"></span> (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> a, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a) =&gt; <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-678" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Read:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="../base-4.16.4.0/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> [<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a] <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="../base-4.16.4.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="../base-4.16.4.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> [<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a] <a href="#v:readListPrec" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Show:6"></span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-674" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Show:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:NFData:7"></span> <a href="../deepseq-1.4.6.1/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-705" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:NFData:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Eq:8"></span> (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a) =&gt; <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-699" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Eq:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Ord:9"></span> (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-709" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Ord:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Array:Item:10"></span> <span class="keyword">type</span> <a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a)</span> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#line-689" class="link">Source</a> <a href="#t:Array" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Array:Item:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Array-Foreign-Type.html">Streamly.Internal.Data.Array.Foreign.Type</a></p> <div class="src"><span class="keyword">type</span> <a href="../base-4.16.4.0/GHC-Exts.html#t:Item" title="GHC.Exts">Item</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) = a</div></details></td></tr></table></details></div></div><a href="#g:1" id="g:1"><h1>Arrays</h1></a><a href="#g:2" id="g:2"><h2>Construction</h2></a><div class="doc"><p>When performance matters, the fastest way to generate an array is
 <code><a href="Streamly-Data-Array-Foreign.html#v:writeN" title="Streamly.Data.Array.Foreign">writeN</a></code>. <code>IsList</code> and <code>IsString</code> instances can be
 used to conveniently construct arrays from literal values.
 <code>OverloadedLists</code> extension or <code><a href="Streamly-Data-Array-Foreign.html#v:fromList" title="Streamly.Data.Array.Foreign">fromList</a></code> can be used to construct an
 array from a list literal.  Similarly, <code>OverloadedStrings</code> extension or
 <code><a href="Streamly-Data-Array-Foreign.html#v:fromList" title="Streamly.Data.Array.Foreign">fromList</a></code> can be used to construct an array from a string literal.</p></div><div class="top"><p class="src"><a id="v:fromListN" class="def">fromListN</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [a] -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#fromListN" class="link">Source</a> <a href="#v:fromListN" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a></code> from the first N elements of a list. The array is
 allocated to size N, if the list terminates before N elements then the
 array may hold less than N elements.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:fromList" class="def">fromList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; [a] -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#fromList" class="link">Source</a> <a href="#v:fromList" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a></code> from a list. The list must be of finite size.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:writeN" class="def">writeN</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#writeN" class="link">Source</a> <a href="#v:writeN" class="selflink">#</a></p><div class="doc"><p><code>writeN n</code> folds a maximum of <code>n</code> elements from the input stream to an
 <code><a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a></code>.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:write" class="def">write</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#write" class="link">Source</a> <a href="#v:write" class="selflink">#</a></p><div class="doc"><p>Fold the whole input to a single array.</p><p><em>Caution! Do not use this on infinite streams.</em></p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:writeLastN" class="def">writeLastN</a> :: (<a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Fold-Type.html#t:Fold" title="Streamly.Internal.Data.Fold.Type">Fold</a> m a (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) <a href="src/Streamly.Internal.Data.Array.Foreign.html#writeLastN" class="link">Source</a> <a href="#v:writeLastN" class="selflink">#</a></p><div class="doc"><p><code>writeLastN n</code> folds a maximum of <code>n</code> elements from the end of the input
 stream to an <code><a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a></code>.</p><p><em>Since: 0.8.0</em></p></div></div><a href="#g:3" id="g:3"><h2>Elimination</h2></a><div class="top"><p class="src"><a id="v:toList" class="def">toList</a> :: <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; [a] <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#toList" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><div class="doc"><p>Convert an <code><a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a></code> into a list.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:read" class="def">read</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.html#read" class="link">Source</a> <a href="#v:read" class="selflink">#</a></p><div class="doc"><p>Unfold an array into a stream.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:readRev" class="def">readRev</a> :: <span class="keyword">forall</span> m a. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-Data-Unfold-Type.html#t:Unfold" title="Streamly.Internal.Data.Unfold.Type">Unfold</a> m (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a) a <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#readRev" class="link">Source</a> <a href="#v:readRev" class="selflink">#</a></p><div class="doc"><p>Unfold an array into a stream in reverse order.</p><p><em>Since: 0.8.0</em></p></div></div><a href="#g:4" id="g:4"><h2>Casting</h2></a><div class="top"><p class="src"><a id="v:cast" class="def">cast</a> :: <span class="keyword">forall</span> a b. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> b =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> b) <a href="src/Streamly.Internal.Data.Array.Foreign.html#cast" class="link">Source</a> <a href="#v:cast" class="selflink">#</a></p><div class="doc"><p>Cast an array having elements of type <code>a</code> into an array having elements of
 type <code>b</code>. The length of the array should be a multiple of the size of the
 target element otherwise <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is returned.</p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:asBytes" class="def">asBytes</a> :: <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streamly.Internal.Data.Array.Foreign.html#asBytes" class="link">Source</a> <a href="#v:asBytes" class="selflink">#</a></p><div class="doc"><p>Cast an <code>Array a</code> into an <code>Array Word8</code>.</p><p><em>Since: 0.8.0</em></p></div></div><a href="#g:5" id="g:5"><h2>Random Access</h2></a><div class="top"><p class="src"><a id="v:length" class="def">length</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streamly.Internal.Data.Array.Foreign.Type.html#length" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Get the length of the array i.e. the number of elements in the
 array.</p><p><em>Since 0.7.0 (Streamly.Memory.Array)</em></p><p><em>Since: 0.8.0</em></p></div></div><div class="top"><p class="src"><a id="v:getIndex" class="def">getIndex</a> :: <span class="keyword">forall</span> a. <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a =&gt; <a href="Streamly-Data-Array-Foreign.html#t:Array" title="Streamly.Data.Array.Foreign">Array</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Streamly.Internal.Data.Array.Foreign.html#getIndex" class="link">Source</a> <a href="#v:getIndex" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Lookup the element at the given index. Index starts from 0.</p><p><em>Since: 0.8.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>