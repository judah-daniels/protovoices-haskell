<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streamly.Internal.FileSystem.FD</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streamly-0.8.1.1: Dataflow programming and declarative concurrency</span><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.FileSystem.FD.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2019 Composewell Technologies</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.FileSystem.FD</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">File Handles</a></li><li><a href="#g:2">Streaming IO</a><ul><li><a href="#g:3">Read File to Stream</a></li><li><a href="#g:4">Write File from Stream</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module is a an experimental replacement for
 <a href="Streamly-FileSystem-Handle.html">Streamly.FileSystem.Handle</a>. The former module provides IO facilities based
 on the GHC Handle type. The APIs in this module avoid the GHC handle layer
 and provide more explicit control over buffering.</p><p>Read and write data as streams and arrays to and from files.</p><p>This module provides read and write APIs based on handles. Before reading or
 writing, a file must be opened first using <code><a href="Streamly-Internal-FileSystem-FD.html#v:openFile" title="Streamly.Internal.FileSystem.FD">openFile</a></code>. The <code><a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></code> returned
 by <code><a href="Streamly-Internal-FileSystem-FD.html#v:openFile" title="Streamly.Internal.FileSystem.FD">openFile</a></code> is then used to access the file. A <code><a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></code> is backed by an
 operating system file descriptor. When the <code><a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></code> is garbage collected the
 underlying file descriptor is automatically closed. A handle can be
 explicitly closed using <code>closeFile</code>.</p><p>Reading and writing APIs are divided into two categories, sequential
 streaming APIs and random or seekable access APIs.  File IO APIs are quite
 similar to <a href="Streamly-Data-Array-Foreign.html">Streamly.Data.Array.Foreign</a> read write APIs. In that regard, arrays can
 be considered as in-memory files or files can be considered as on-disk
 arrays.</p><pre>import qualified Streamly.Internal.FileSystem.FD as FD</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Handle">Handle</a></li><li class="src short"><a href="#v:stdin">stdin</a> :: <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></li><li class="src short"><a href="#v:stdout">stdout</a> :: <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></li><li class="src short"><a href="#v:stderr">stderr</a> :: <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></li><li class="src short"><a href="#v:openFile">openFile</a> :: <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IOMode" title="System.IO">IOMode</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></li><li class="src short"><a href="#v:read">read</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:readInChunksOf">readInChunksOf</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:readArrays">readArrays</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>)</li><li class="src short"><a href="#v:readArraysOfUpto">readArraysOfUpto</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>)</li><li class="src short"><a href="#v:write">write</a> :: <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; m ()</li><li class="src short"><a href="#v:writeInChunksOf">writeInChunksOf</a> :: <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; m ()</li><li class="src short"><a href="#v:writeArrays">writeArrays</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> a) -&gt; m ()</li><li class="src short"><a href="#v:writeArraysPackedUpto">writeArraysPackedUpto</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> a) -&gt; m ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>File Handles</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Handle" class="def">Handle</a> <a href="src/Streamly.Internal.FileSystem.FD.html#Handle" class="link">Source</a> <a href="#t:Handle" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></code> is returned by <code><a href="Streamly-Internal-FileSystem-FD.html#v:openFile" title="Streamly.Internal.FileSystem.FD">openFile</a></code> and is subsequently used to perform
 read and write operations on a file.</p></div></div><div class="top"><p class="src"><a id="v:stdin" class="def">stdin</a> :: <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> <a href="src/Streamly.Internal.FileSystem.FD.html#stdin" class="link">Source</a> <a href="#v:stdin" class="selflink">#</a></p><div class="doc"><p>File handle for standard input</p></div></div><div class="top"><p class="src"><a id="v:stdout" class="def">stdout</a> :: <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> <a href="src/Streamly.Internal.FileSystem.FD.html#stdout" class="link">Source</a> <a href="#v:stdout" class="selflink">#</a></p><div class="doc"><p>File handle for standard output</p></div></div><div class="top"><p class="src"><a id="v:stderr" class="def">stderr</a> :: <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> <a href="src/Streamly.Internal.FileSystem.FD.html#stderr" class="link">Source</a> <a href="#v:stderr" class="selflink">#</a></p><div class="doc"><p>File handle for standard error</p></div></div><div class="top"><p class="src"><a id="v:openFile" class="def">openFile</a> :: <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IOMode" title="System.IO">IOMode</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> <a href="src/Streamly.Internal.FileSystem.FD.html#openFile" class="link">Source</a> <a href="#v:openFile" class="selflink">#</a></p><div class="doc"><p>Open a file that is not a directory and return a file handle.
 <code><a href="Streamly-Internal-FileSystem-FD.html#v:openFile" title="Streamly.Internal.FileSystem.FD">openFile</a></code> enforces a multiple-reader single-writer locking on files. That
 is, there may either be many handles on the same file which manage input, or
 just one handle on the file which manages output. If any open handle is
 managing a file for output, no new handle can be allocated for that file. If
 any open handle is managing a file for input, new handles can only be
 allocated if they do not manage output. Whether two files are the same is
 implementation-dependent, but they should normally be the same if they have
 the same absolute path name and neither has been renamed, for example.</p></div></div><a href="#g:2" id="g:2"><h1>Streaming IO</h1></a><div class="doc"><p>Streaming APIs read or write data to or from a file or device
 sequentially, they never perform a seek to a random location.  When
 reading, the stream is lazy and generated on-demand as the consumer
 consumes it.  Read IO requests to the IO device are performed in chunks
 of 32KiB, this is referred to as <code>defaultChunkSize</code> in the
 documentation. One IO request may or may not read the full chunk. If the
 whole stream is not consumed, it is possible that we may read slightly
 more from the IO device than what the consumer needed.  Unless specified
 otherwise in the API, writes are collected into chunks of
 <code>defaultChunkSize</code> before they are written to the IO device.</p></div><a href="#g:3" id="g:3"><h2>Read File to Stream</h2></a><div class="top"><p class="src"><a id="v:read" class="def">read</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streamly.Internal.FileSystem.FD.html#read" class="link">Source</a> <a href="#v:read" class="selflink">#</a></p><div class="doc"><p>Generate a stream of elements of the given type from a file <code><a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></code>. The
 stream ends when EOF is encountered.</p><p><em>Since: 0.7.0</em></p></div></div><div class="top"><p class="src"><a id="v:readInChunksOf" class="def">readInChunksOf</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streamly.Internal.FileSystem.FD.html#readInChunksOf" class="link">Source</a> <a href="#v:readInChunksOf" class="selflink">#</a></p><div class="doc"><p><code>readInChunksOf chunkSize handle</code> reads a byte stream from a file handle,
 reads are performed in chunks of up to <code>chunkSize</code>.  The stream ends as soon
 as EOF is encountered.</p></div></div><div class="top"><p class="src"><a id="v:readArrays" class="def">readArrays</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) <a href="src/Streamly.Internal.FileSystem.FD.html#readArrays" class="link">Source</a> <a href="#v:readArrays" class="selflink">#</a></p><div class="doc"><p><code>readArrays h</code> reads a stream of arrays from file handle <code>h</code>.
 The maximum size of a single array is limited to <code>defaultChunkSize</code>.
 <code><a href="Streamly-Internal-FileSystem-FD.html#v:readArrays" title="Streamly.Internal.FileSystem.FD">readArrays</a></code> ignores the prevailing <code>TextEncoding</code> and <code>NewlineMode</code>
 on the <code><a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a></code>.</p><pre>readArrays = readArraysOfUpto defaultChunkSize</pre><p><em>Since: 0.7.0</em></p></div></div><div class="top"><p class="src"><a id="v:readArraysOfUpto" class="def">readArraysOfUpto</a> :: (<a href="Streamly-Internal-Data-Stream-IsStream-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.IsStream.Type">IsStream</a> t, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; t m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) <a href="src/Streamly.Internal.FileSystem.FD.html#readArraysOfUpto" class="link">Source</a> <a href="#v:readArraysOfUpto" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h2>Write File from Stream</h2></a><div class="top"><p class="src"><a id="v:write" class="def">write</a> :: <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; m () <a href="src/Streamly.Internal.FileSystem.FD.html#write" class="link">Source</a> <a href="#v:write" class="selflink">#</a></p><div class="doc"><p>Write a byte stream to a file handle. Combines the bytes in chunks of size
 up to <code><a href="A.html#v:defaultChunkSize" title="A">defaultChunkSize</a></code> before writing.  Note that the write behavior
 depends on the <code><a href="../base-4.16.4.0/System-IO.html#t:IOMode" title="System.IO">IOMode</a></code> and the current seek position of the handle.</p><p><em>Since: 0.7.0</em></p></div></div><div class="top"><p class="src"><a id="v:writeInChunksOf" class="def">writeInChunksOf</a> :: <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; m () <a href="src/Streamly.Internal.FileSystem.FD.html#writeInChunksOf" class="link">Source</a> <a href="#v:writeInChunksOf" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streamly-Internal-FileSystem-FD.html#v:write" title="Streamly.Internal.FileSystem.FD">write</a></code> but provides control over the write buffer. Output will
 be written to the IO device as soon as we collect the specified number of
 input elements.</p><p><em>Since: 0.7.0</em></p></div></div><div class="top"><p class="src"><a id="v:writeArrays" class="def">writeArrays</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> a) -&gt; m () <a href="src/Streamly.Internal.FileSystem.FD.html#writeArrays" class="link">Source</a> <a href="#v:writeArrays" class="selflink">#</a></p><div class="doc"><p>Write a stream of arrays to a handle.</p><p><em>Since: 0.7.0</em></p></div></div><div class="top"><p class="src"><a id="v:writeArraysPackedUpto" class="def">writeArraysPackedUpto</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Foreign-Storable.html#t:Storable" title="Foreign.Storable">Storable</a> a) =&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-FD.html#t:Handle" title="Streamly.Internal.FileSystem.FD">Handle</a> -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> m (<a href="Streamly-Internal-Data-Array-Foreign-Type.html#t:Array" title="Streamly.Internal.Data.Array.Foreign.Type">Array</a> a) -&gt; m () <a href="src/Streamly.Internal.FileSystem.FD.html#writeArraysPackedUpto" class="link">Source</a> <a href="#v:writeArraysPackedUpto" class="selflink">#</a></p><div class="doc"><p>Write a stream of arrays to a handle after coalescing them in chunks of
 specified size. The chunk size is only a maximum and the actual writes could
 be smaller than that as we do not split the arrays to fit them to the
 specified size.</p><p><em>Since: 0.7.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>