<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GreedyParser</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">proto-voice-model-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="src/GreedyParser.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">GreedyParser</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Parsing State</a></li><li><a href="#g:2">Parsing Actions</a></li><li><a href="#g:3">Parsing Algorithm</a></li><li><a href="#g:4">Entry Points</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains a simple greedy parser for path grammars.
 The grammar is provided by an evaluator (<code><a href="Common.html#t:Eval" title="Common">Eval</a></code>).
 In addition, the parser takes a policy function
 that picks a reduction option in each step.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Trans">Trans</a> tr = <a href="#v:Trans">Trans</a> {<ul class="subs"><li><a href="#v:_tContent">_tContent</a> :: !tr</li><li><a href="#v:_t2nd">_t2nd</a> :: !<a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:GreedyState">GreedyState</a> tr tr' slc op<ul class="subs"><li>= <a href="#v:GSFrozen">GSFrozen</a> !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> tr') slc)</li><li>| <a href="#v:GSSemiOpen">GSSemiOpen</a> { <ul class="subs"><li><a href="#v:_gsFrozen">_gsFrozen</a> :: !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> tr') slc)</li><li><a href="#v:_gsMidSlice">_gsMidSlice</a> :: !slc</li><li><a href="#v:_gsOpen">_gsOpen</a> :: !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr) slc)</li><li><a href="#v:_gsDeriv">_gsDeriv</a> :: ![op]</li></ul> }</li><li>| <a href="#v:GSOpen">GSOpen</a> !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr) slc) ![op]</li></ul></li><li class="src short"><a href="#v:showFrozen">showFrozen</a> :: <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc =&gt; <a href="Common.html#t:Path" title="Common">Path</a> tr' slc -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:showOpen">showOpen</a> :: <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc =&gt; <a href="Common.html#t:Path" title="Common">Path</a> tr slc -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ActionSingle">ActionSingle</a> slc tr s f = <a href="#v:ActionSingle">ActionSingle</a> (<a href="Common.html#t:StartStop" title="Common">StartStop</a> slc, <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr, <a href="Common.html#t:StartStop" title="Common">StartStop</a> slc) (<a href="Common.html#t:LeftmostSingle" title="Common">LeftmostSingle</a> s f)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ActionDouble">ActionDouble</a> slc tr s f h = <a href="#v:ActionDouble">ActionDouble</a> (<a href="Common.html#t:StartStop" title="Common">StartStop</a> slc, <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr, slc, <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr, <a href="Common.html#t:StartStop" title="Common">StartStop</a> slc) (<a href="Common.html#t:LeftmostDouble" title="Common">LeftmostDouble</a> s f h)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Action">Action</a> slc tr s f h = <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="GreedyParser.html#t:ActionSingle" title="GreedyParser">ActionSingle</a> slc tr s f) (<a href="GreedyParser.html#t:ActionDouble" title="GreedyParser">ActionDouble</a> slc tr s f h)</li><li class="src short"><a href="#v:parseGreedy">parseGreedy</a> :: <span class="keyword">forall</span> m tr tr' slc slc' s f h. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr', <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> h) =&gt; <a href="Common.html#t:Eval" title="Common">Eval</a> tr tr' slc slc' (<a href="Common.html#t:Leftmost" title="Common">Leftmost</a> s f h) -&gt; ([<a href="GreedyParser.html#t:Action" title="GreedyParser">Action</a> slc tr s f h] -&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> m (<a href="GreedyParser.html#t:Action" title="GreedyParser">Action</a> slc tr s f h)) -&gt; <a href="Common.html#t:Path" title="Common">Path</a> slc' tr' -&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> m (<a href="Common.html#t:Analysis" title="Common">Analysis</a> s f h tr slc)</li><li class="src short"><a href="#v:pickRandom">pickRandom</a> :: <a href="../random-1.2.1.1/System-Random-Stateful.html#t:StatefulGen" title="System.Random.Stateful">StatefulGen</a> g m =&gt; g -&gt; [slc] -&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> m slc</li><li class="src short"><a href="#v:parseRandom">parseRandom</a> :: (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr', <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> h) =&gt; <a href="Common.html#t:Eval" title="Common">Eval</a> tr tr' slc slc' (<a href="Common.html#t:Leftmost" title="Common">Leftmost</a> s f h) -&gt; <a href="Common.html#t:Path" title="Common">Path</a> slc' tr' -&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Common.html#t:Analysis" title="Common">Analysis</a> s f h tr slc)</li><li class="src short"><a href="#v:parseRandom-39-">parseRandom'</a> :: (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr', <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> h, <a href="../random-1.2.1.1/System-Random-Stateful.html#t:StatefulGen" title="System.Random.Stateful">StatefulGen</a> g <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a>) =&gt; g -&gt; <a href="Common.html#t:Eval" title="Common">Eval</a> tr tr' slc slc' (<a href="Common.html#t:Leftmost" title="Common">Leftmost</a> s f h) -&gt; <a href="Common.html#t:Path" title="Common">Path</a> slc' tr' -&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Common.html#t:Analysis" title="Common">Analysis</a> s f h tr slc)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Parsing State</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Trans" class="def">Trans</a> tr <a href="src/GreedyParser.html#Trans" class="link">Source</a> <a href="#t:Trans" class="selflink">#</a></p><div class="doc"><p>A transition during greedy parsing.
 Augments transition data with a flag
 that indicates whether the transition is a transitive right (2nd) parent of a spread.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Trans" class="def">Trans</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_tContent" class="def">_tContent</a> :: !tr</dfn><div class="doc"><p>content of the transition</p></div></li><li><dfn class="src"><a id="v:_t2nd" class="def">_t2nd</a> :: !<a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>flag that indicates (transitive) right parents of spreads</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Trans">Instances</h4><details id="i:Trans" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Trans:Show:1"></span> <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr =&gt; <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr)</span> <a href="src/GreedyParser.html#line-52" class="link">Source</a> <a href="#t:Trans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Trans:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GreedyParser.html">GreedyParser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GreedyState" class="def">GreedyState</a> tr tr' slc op <a href="src/GreedyParser.html#GreedyState" class="link">Source</a> <a href="#t:GreedyState" class="selflink">#</a></p><div class="doc"><p>The state of the greedy parse between steps.
 Generally, the current reduction consists of frozen transitions
 between the &#8906; and the current location
 and open transitions between the current location and &#8905;.</p><pre>&#8906;==[1]==[2]==[3]&#8212;&#8212;[4]&#8212;&#8212;[5]&#8212;&#8212;&#8905;
  &#9492; frozen  &#9496;  | &#9492;   open  &#9496;
            midSlice (current position)

frozen:   ==[2]==[1]==
midSlice: [3]
open:     &#8212;&#8212;[4]&#8212;&#8212;[5]&#8212;&#8212;</pre><p>This is the <code><a href="GreedyParser.html#v:GSSemiOpen" title="GreedyParser">GSSemiOpen</a></code> case:
 The slice at the current pointer (<code>[3]</code>)
 is represented as an individual slice (<code>midSlice</code>).
 The frozen part is represented by a <code><a href="Common.html#t:Path" title="Common">Path</a></code> of frozen transitions (<code>tr'</code>) and slices (<code>slc</code>).
 <strong>in reverse direction</strong>, i.e. from <code>midslice</code> back to &#8906; (excluding &#8906;).
 The open part is a <code><a href="Common.html#t:Path" title="Common">Path</a></code> of open transitions (<code>tr</code>) and slices (<code>slc</code>)
 in forward direction from <code>midSlice</code> up to &#8905;.</p><p>There are two special cases.
 All transitions can be frozen (<code><a href="GreedyParser.html#v:GSFrozen" title="GreedyParser">GSFrozen</a></code>),
 in which case state only contains the backward <code><a href="Common.html#t:Path" title="Common">Path</a></code> of frozen transitions
 (excluding &#8906; and &#8905;):</p><pre>&#8906;==[1]==[2]==[3]==&#8905;
                   &#9492; current position
represented as: ==[3]==[2]==[1]==</pre><p>Or all transitions can be open (<code><a href="GreedyParser.html#v:GSOpen" title="GreedyParser">GSOpen</a></code>),
 in which case the state is just the forward path of open transitions:</p><pre>&#8906;&#8212;&#8212;[1]&#8212;&#8212;[2]&#8212;&#8212;[3]&#8212;&#8212;&#8905;
&#9492; current position
represented as: &#8212;&#8212;[1]&#8212;&#8212;[2]&#8212;&#8212;[3]&#8212;&#8212;</pre><p>The open and semiopen case additionally have a list of operations in generative order.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GSFrozen" class="def">GSFrozen</a> !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> tr') slc)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:GSSemiOpen" class="def">GSSemiOpen</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_gsFrozen" class="def">_gsFrozen</a> :: !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> tr') slc)</dfn><div class="doc"><p>frozen transitions and slices from current point leftward</p></div></li><li><dfn class="src"><a id="v:_gsMidSlice" class="def">_gsMidSlice</a> :: !slc</dfn><div class="doc"><p>the slice at the current posision between gsFrozen and gsOpen</p></div></li><li><dfn class="src"><a id="v:_gsOpen" class="def">_gsOpen</a> :: !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr) slc)</dfn><div class="doc"><p>non-frozen transitions and slices from current point rightward</p></div></li><li><dfn class="src"><a id="v:_gsDeriv" class="def">_gsDeriv</a> :: ![op]</dfn><div class="doc"><p>derivation from current reduction to original surface</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:GSOpen" class="def">GSOpen</a> !(<a href="Common.html#t:Path" title="Common">Path</a> (<a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr) slc) ![op]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GreedyState">Instances</h4><details id="i:GreedyState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GreedyState:Show:1"></span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> o) =&gt; <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="GreedyParser.html#t:GreedyState" title="GreedyParser">GreedyState</a> tr tr' slc o)</span> <a href="src/GreedyParser.html#line-107" class="link">Source</a> <a href="#t:GreedyState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GreedyState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GreedyParser.html">GreedyParser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GreedyParser.html#t:GreedyState" title="GreedyParser">GreedyState</a> tr tr' slc o -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GreedyParser.html#t:GreedyState" title="GreedyParser">GreedyState</a> tr tr' slc o -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GreedyParser.html#t:GreedyState" title="GreedyParser">GreedyState</a> tr tr' slc o] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:showFrozen" class="def">showFrozen</a> :: <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc =&gt; <a href="Common.html#t:Path" title="Common">Path</a> tr' slc -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/GreedyParser.html#showFrozen" class="link">Source</a> <a href="#v:showFrozen" class="selflink">#</a></p><div class="doc"><p>Helper function for showing the frozen part of a piece.</p></div></div><div class="top"><p class="src"><a id="v:showOpen" class="def">showOpen</a> :: <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc =&gt; <a href="Common.html#t:Path" title="Common">Path</a> tr slc -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/GreedyParser.html#showOpen" class="link">Source</a> <a href="#v:showOpen" class="selflink">#</a></p><div class="doc"><p>Helper function for showing the open part of a piece.</p></div></div><a href="#g:2" id="g:2"><h1>Parsing Actions</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ActionSingle" class="def">ActionSingle</a> slc tr s f <a href="src/GreedyParser.html#ActionSingle" class="link">Source</a> <a href="#t:ActionSingle" class="selflink">#</a></p><div class="doc"><p>A parsing action (reduction step) with a single parent transition.
 Combines the parent elements with a single-transition derivation operation.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ActionSingle" class="def">ActionSingle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">(<a href="Common.html#t:StartStop" title="Common">StartStop</a> slc, <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr, <a href="Common.html#t:StartStop" title="Common">StartStop</a> slc)</dfn><div class="doc"><p>parent transition (and adjacent slices)</p></div></li><li><dfn class="src">(<a href="Common.html#t:LeftmostSingle" title="Common">LeftmostSingle</a> s f)</dfn><div class="doc"><p>single-transition operation</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ActionSingle">Instances</h4><details id="i:ActionSingle" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ActionSingle:Show:1"></span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f) =&gt; <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="GreedyParser.html#t:ActionSingle" title="GreedyParser">ActionSingle</a> slc tr s f)</span> <a href="src/GreedyParser.html#line-138" class="link">Source</a> <a href="#t:ActionSingle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ActionSingle:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GreedyParser.html">GreedyParser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GreedyParser.html#t:ActionSingle" title="GreedyParser">ActionSingle</a> slc tr s f -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GreedyParser.html#t:ActionSingle" title="GreedyParser">ActionSingle</a> slc tr s f -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GreedyParser.html#t:ActionSingle" title="GreedyParser">ActionSingle</a> slc tr s f] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ActionDouble" class="def">ActionDouble</a> slc tr s f h <a href="src/GreedyParser.html#ActionDouble" class="link">Source</a> <a href="#t:ActionDouble" class="selflink">#</a></p><div class="doc"><p>A parsing action (reduction step) with two parent transitions.
 Combines the parent elements with a double-transition derivation operation.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ActionDouble" class="def">ActionDouble</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">(<a href="Common.html#t:StartStop" title="Common">StartStop</a> slc, <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr, slc, <a href="GreedyParser.html#t:Trans" title="GreedyParser">Trans</a> tr, <a href="Common.html#t:StartStop" title="Common">StartStop</a> slc)</dfn><div class="doc"><p>parent transitions and slice</p></div></li><li><dfn class="src">(<a href="Common.html#t:LeftmostDouble" title="Common">LeftmostDouble</a> s f h)</dfn><div class="doc"><p>double-transition operation</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ActionDouble">Instances</h4><details id="i:ActionDouble" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ActionDouble:Show:1"></span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> h) =&gt; <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="GreedyParser.html#t:ActionDouble" title="GreedyParser">ActionDouble</a> slc tr s f h)</span> <a href="src/GreedyParser.html#line-154" class="link">Source</a> <a href="#t:ActionDouble" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ActionDouble:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GreedyParser.html">GreedyParser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GreedyParser.html#t:ActionDouble" title="GreedyParser">ActionDouble</a> slc tr s f h -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GreedyParser.html#t:ActionDouble" title="GreedyParser">ActionDouble</a> slc tr s f h -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GreedyParser.html#t:ActionDouble" title="GreedyParser">ActionDouble</a> slc tr s f h] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Action" class="def">Action</a> slc tr s f h = <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="GreedyParser.html#t:ActionSingle" title="GreedyParser">ActionSingle</a> slc tr s f) (<a href="GreedyParser.html#t:ActionDouble" title="GreedyParser">ActionDouble</a> slc tr s f h) <a href="src/GreedyParser.html#Action" class="link">Source</a> <a href="#t:Action" class="selflink">#</a></p><div class="doc"><p>An alias that combines <code><a href="GreedyParser.html#t:ActionSingle" title="GreedyParser">ActionSingle</a></code> and <code><a href="GreedyParser.html#t:ActionDouble" title="GreedyParser">ActionDouble</a></code>, representing all possible reduction steps.</p></div></div><a href="#g:3" id="g:3"><h1>Parsing Algorithm</h1></a><div class="top"><p class="src"><a id="v:parseGreedy" class="def">parseGreedy</a> <a href="src/GreedyParser.html#parseGreedy" class="link">Source</a> <a href="#v:parseGreedy" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m tr tr' slc slc' s f h. (<a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr', <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> h)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Common.html#t:Eval" title="Common">Eval</a> tr tr' slc slc' (<a href="Common.html#t:Leftmost" title="Common">Leftmost</a> s f h)</td><td class="doc"><p>the evaluator of the grammar to be used</p></td></tr><tr><td class="src">-&gt; ([<a href="GreedyParser.html#t:Action" title="GreedyParser">Action</a> slc tr s f h] -&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> m (<a href="GreedyParser.html#t:Action" title="GreedyParser">Action</a> slc tr s f h))</td><td class="doc"><p>the policy: picks a parsing action from a list of options
 (determines the <code><a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> <code>m</code>, e.g., for randomness).</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:Path" title="Common">Path</a> slc' tr'</td><td class="doc"><p>the input piece</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> m (<a href="Common.html#t:Analysis" title="Common">Analysis</a> s f h tr slc)</td><td class="doc"><p>the full parse or an error message</p></td></tr></table></div><div class="doc"><p>Parse a piece in a greedy fashion.
 At each step, a policy chooses from the possible reduction actions,
 the reduction is applied, and parsing continues
 until the piece is fully reduced or no more reduction operations are available.
 Returns the full derivation from the top (<code>&#8906;&#8212;&#8212;&#8905;</code>) or an error message.</p></div></div><div class="top"><p class="src"><a id="v:pickRandom" class="def">pickRandom</a> :: <a href="../random-1.2.1.1/System-Random-Stateful.html#t:StatefulGen" title="System.Random.Stateful">StatefulGen</a> g m =&gt; g -&gt; [slc] -&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> m slc <a href="src/GreedyParser.html#pickRandom" class="link">Source</a> <a href="#v:pickRandom" class="selflink">#</a></p><div class="doc"><p>A policy that picks the next action at random.
 Must be partially applied with a random generator before passing to <code><a href="GreedyParser.html#v:parseGreedy" title="GreedyParser">parseGreedy</a></code>.</p></div></div><a href="#g:4" id="g:4"><h1>Entry Points</h1></a><div class="top"><p class="src"><a id="v:parseRandom" class="def">parseRandom</a> <a href="src/GreedyParser.html#parseRandom" class="link">Source</a> <a href="#v:parseRandom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr', <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> h)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Common.html#t:Eval" title="Common">Eval</a> tr tr' slc slc' (<a href="Common.html#t:Leftmost" title="Common">Leftmost</a> s f h)</td><td class="doc"><p>the grammar's evaluator</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:Path" title="Common">Path</a> slc' tr'</td><td class="doc"><p>the input piece</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Common.html#t:Analysis" title="Common">Analysis</a> s f h tr slc)</td><td class="doc"><p>a random reduction of the piece (or an error message)</p></td></tr></table></div><div class="doc"><p>Parse a piece randomly using a fresh random number generator.</p></div></div><div class="top"><p class="src"><a id="v:parseRandom-39-" class="def">parseRandom'</a> <a href="src/GreedyParser.html#parseRandom%27" class="link">Source</a> <a href="#v:parseRandom-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr', <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> slc, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> tr, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> s, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> f, <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> h, <a href="../random-1.2.1.1/System-Random-Stateful.html#t:StatefulGen" title="System.Random.Stateful">StatefulGen</a> g <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; g</td><td class="doc"><p>a random number generator</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:Eval" title="Common">Eval</a> tr tr' slc slc' (<a href="Common.html#t:Leftmost" title="Common">Leftmost</a> s f h)</td><td class="doc"><p>the grammar's evaluator</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:Path" title="Common">Path</a> slc' tr'</td><td class="doc"><p>the input piece</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Common.html#t:Analysis" title="Common">Analysis</a> s f h tr slc)</td><td class="doc"><p>a random reduction of the piece (or an error message)</p></td></tr></table></div><div class="doc"><p>Parse a piece randomly using an existing random number generator.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>